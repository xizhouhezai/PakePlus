import{P as L}from"./promotion-ChRoyrm_.js";import{u as B,a as b}from"./filters-D05Q2eUM.js";import{d as C,p as M,r as x,h as U,b as i,o as m,c,e as o,w as a,u as t,k as n,f as r,s as u,j as I,t as V,_ as W}from"./index-C4AMdMz2.js";const j={key:0,class:"upload-list"},E={key:0,class:"upload-list"},J={key:0,class:"upload-list"},P={class:"flex-goods"},S=["src"],H=C({__name:"live-detail",setup(O){const g=M(),l=x({name:"",anchorName:"",anchorWechat:"",feedsImg:"",coverImg:"",shareImg:"",startTime:"",rangeTime:[]}),w=[{title:"商品",dataIndex:"goodsName",width:300,slotName:"goodsName"},{title:"价格",dataIndex:"price",width:300,slotName:"price"},{title:"库存",dataIndex:"quantity",width:300},{title:"操作",dataIndex:"action",width:300}],v=x([]);async function y(){const p=await L(g.query.id);if(p.data.success){const e=p.data.result;l.value=e,v.value=e.commodityList,e.startTime&&e.endTime&&(l.value.rangeTime=[b(e.startTime),b(e.endTime)])}}return U(()=>{y()}),(p,e)=>{const f=i("a-input"),d=i("a-form-item"),N=i("a-range-picker"),_=i("a-image"),k=i("a-badge"),T=i("a-table"),q=i("a-form"),D=i("a-card");return m(),c("div",null,[o(D,{style:{width:"100%"}},{default:a(()=>[o(q,{model:t(l),style:{width:"600px"}},{default:a(()=>[o(d,{label:"直播标题",field:"name"},{extra:a(()=>e[4]||(e[4]=[n("div",{class:"tips"}," 直播间名字，最短3个汉字，最长17个汉字，1个汉字相当于2个字符 ",-1)])),default:a(()=>[o(f,{modelValue:t(l).name,"onUpdate:modelValue":e[0]||(e[0]=s=>t(l).name=s),disabled:""},null,8,["modelValue"])]),_:1}),o(d,{label:"主播昵称",field:"anchorName"},{extra:a(()=>e[5]||(e[5]=[n("div",{class:"tips"}," 主播昵称，最短2个汉字，最长15个汉字，1个汉字相当于2个字符 ",-1)])),default:a(()=>[o(f,{modelValue:t(l).anchorName,"onUpdate:modelValue":e[1]||(e[1]=s=>t(l).anchorName=s),disabled:""},null,8,["modelValue"])]),_:1}),o(d,{label:"直播时间",field:"startTime"},{default:a(()=>[o(N,{modelValue:t(l).rangeTime,"onUpdate:modelValue":e[2]||(e[2]=s=>t(l).rangeTime=s),disabled:"",style:{width:"254px","margin-bottom":"20px"}},null,8,["modelValue"])]),_:1}),o(d,{label:"主播微信号",field:"anchorWechat"},{extra:a(()=>e[6]||(e[6]=[n("div",{class:"tips"},[r(" 主播微信号，如果未实名认证，需要先前往“小程序直播”小程序进行"),n("a",{target:"_black",href:"https://res.wx.qq.com/op_res/9rSix1dhHfK4rR049JL0PHJ7TpOvkuZ3mE0z7Ou_Etvjf-w1J_jVX0rZqeStLfwh"},"实名验证")],-1)])),default:a(()=>[o(f,{modelValue:t(l).anchorWechat,"onUpdate:modelValue":e[3]||(e[3]=s=>t(l).anchorWechat=s),disabled:"",placeholder:"主播微信号"},null,8,["modelValue"])]),_:1}),o(d,{label:"分享卡片封面",field:"feedsImg"},{extra:a(()=>e[7]||(e[7]=[r(" 直播间分享图，图片规则：建议像素800*640，大小不超过1M； ")])),default:a(()=>[t(l).feedsImg?(m(),c("div",j,[o(_,{width:"100%",height:"100%",src:t(l).feedsImg},null,8,["src"])])):u("",!0)]),_:1}),o(d,{label:"直播间背景墙",field:"coverImg"},{extra:a(()=>e[8]||(e[8]=[r(" 直播间背景图，图片规则：建议像素1080*1920，大小不超过1M ")])),default:a(()=>[t(l).coverImg?(m(),c("div",E,[o(_,{width:"100%",height:"100%",src:t(l).coverImg},null,8,["src"])])):u("",!0)]),_:1}),o(d,{label:"直播间分享图",field:"shareImg"},{extra:a(()=>e[9]||(e[9]=[r(" 直播间分享图，图片规则：建议像素800*640，大小不超过1M ")])),default:a(()=>[t(l).shareImg?(m(),c("div",J,[o(_,{width:"100%",height:"100%",src:t(l).shareImg},null,8,["src"])])):u("",!0)]),_:1}),t(g).query.id?(m(),I(d,{key:0,label:"商品"},{extra:a(()=>e[10]||(e[10]=[n("div",{class:"tips"}," 直播间商品中前两个商品将自动被选为封面，伴随直播间在直播列表中显示 ",-1)])),default:a(()=>[o(T,{class:"goods-table",columns:w,data:t(v),pagination:!1},{goodsName:a(({record:s,rowIndex:h})=>[n("div",P,[h===0||h===1?(m(),I(k,{key:0,status:"danger"})):u("",!0),n("img",{class:"thumbnail",src:s.thumbnail||s.goodsImage},null,8,S),r(" "+V(s.goodsName||s.name),1)])]),price:a(({record:s})=>[r(V(t(B)(s.price,"￥")),1)]),_:1},8,["data"])]),_:1})):u("",!0)]),_:1},8,["model"])]),_:1})])}}}),F=W(H,[["__scopeId","data-v-47064636"]]);export{F as default};
