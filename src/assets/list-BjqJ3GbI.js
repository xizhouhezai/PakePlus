import{N as C,O as N}from"./promotion-ChRoyrm_.js";import{a as I}from"./filters-D05Q2eUM.js";import{aj as D}from"./tools-BfzgO_2s.js";import{V as R}from"./dist-PezRi_EG.js";import{d as S,n as h,r as u,a as E,E as L,b as r,o as U,j,w as t,e as o,u as d,q,f as n,t as B}from"./index-C4AMdMz2.js";const z=S({__name:"list",setup(P){const _=h(),p=u(),l=u("NEW"),c=u(!1),v=[{title:"直播标题",dataIndex:"name"},{title:"主播昵称",dataIndex:"anchorName"},{title:"直播开始时间",dataIndex:"createTime"},{title:"直播结束时间",dataIndex:"endTime",slot:!0,slotTemplate:"endTime"},{title:"是否推荐",dataIndex:"recommend",slot:!0,slotTemplate:"recommend"},{title:"直播状态",dataIndex:"status",slot:!0,slotData:{badge:D}}],x={title:"操作",width:150,methods:[{title:"查看",callback:"see",slot:!0,slotTemplate:"see"}]},f=E({status:l,sort:"",order:""});L(l,s=>{f.status=s});async function b(s){c.value=s.recommend,(await N({id:s.id,recommend:c.value})).data.success&&p.value.init()}function g(s){_.push({name:"live-detail",query:{...s,liveStatus:l.value}})}return(s,e)=>{const m=r("a-radio"),T=r("a-radio-group"),w=r("a-row"),V=r("a-switch"),k=r("a-button"),y=r("a-card");return U(),j(y,{class:"general-card",title:"直播管理",bordered:!1},{default:t(()=>[o(w,{style:{"margin-bottom":"16px"}},{default:t(()=>[o(T,{modelValue:d(l),"onUpdate:modelValue":e[0]||(e[0]=a=>q(l)?l.value=a:null),type:"button"},{default:t(()=>[o(m,{value:"START"},{default:t(()=>e[1]||(e[1]=[n(" 直播中 ")])),_:1}),o(m,{value:"NEW"},{default:t(()=>e[2]||(e[2]=[n(" 未开始 ")])),_:1}),o(m,{value:"END"},{default:t(()=>e[3]||(e[3]=[n(" 已结束 ")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(d(R),{ref_key:"tablePageRef",ref:p,columns:v,methods:x,api:d(C),"api-params":d(f),bordered:!0},{endTime:t(({record:a})=>[n(B(d(I)(a)),1)]),recommend:t(({data:a})=>[o(V,{modelValue:a.recommend,"onUpdate:modelValue":i=>a.recommend=i,onChange:i=>b(a)},{checked:t(()=>e[4]||(e[4]=[n(" 是 ")])),unchecked:t(()=>e[5]||(e[5]=[n(" 否 ")])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),see:t(({data:a})=>[o(k,{type:"text",status:"success",onClick:i=>g(a)},{default:t(()=>e[6]||(e[6]=[n(" 查看 ")])),_:2},1032,["onClick"])]),_:1},8,["api","api-params"])]),_:1})}}});export{z as default};
