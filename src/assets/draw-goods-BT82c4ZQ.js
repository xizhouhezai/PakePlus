import{u as _}from"./useDrag-BGaSN1AF.js";import{u as y}from"./useDrop-BbPs1LL9.js";import{d as h,r as C,as as D,U as I,u as l,o as B,c as R,a2 as b,A as O,_ as k}from"./index-C4AMdMz2.js";const w=h({__name:"draw-goods",props:{id:null,index:null,moveCard:{type:Function}},setup(u){const o=u,r=C(),[,p]=y({accept:"goods",collect(e){return{handlerId:e.getHandlerId()}},hover(e,a){var i;if(!r.value)return;const n=e.index,t=o.index;if(n===t)return;const s=(i=r.value)==null?void 0:i.getBoundingClientRect(),c=(s.bottom-s.top)/2,d=a.getClientOffset().y-s.top;n<t&&d<c||n>t&&d>c||(o.moveCard(n,t),e.index=t)}}),[f,g]=_({type:"goods",item:()=>({id:o.id,index:o.index}),collect:e=>({isDragging:e.isDragging()})}),{isDragging:m}=D(f),v=I(()=>l(m)?0:1);function x(e){r.value=g(p(e))}return(e,a)=>(B(),R("div",{ref:x,class:"card","my-10px":"","p-10px":"",style:O({opacity:l(v)})},[b(e.$slots,"default",{},void 0,!0)],4))}}),E=k(w,[["__scopeId","data-v-841bccbe"]]);export{E as default};
