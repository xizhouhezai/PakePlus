import{d as $,p as U,r as S,D as V,n as A,U as F,E as W,e as c,b as h,a1 as P,ac as M,F as g,ai as T,_ as B,c as N,w as v,Z as D,u as i,A as j,o as x,s as K,k as L,j as q}from"./index-C4AMdMz2.js";import{u as G,N as H,_ as Z}from"./page-layout.vue_vue_type_script_setup_true_lang-Ck6_0Uob.js";import"./statisitics-CehHs8Ha.js";import"./user-CppB_Ihe.js";import"./index-Cwm13-Rt.js";import"./goods-CB7YWqUH.js";import"./assetsImages-DUrhbhdO.js";import"./index-iI9r8b6d.js";import"./index.vue_vue_type_script_setup_true_lang-DwsJOSyd.js";import"./dist-PezRi_EG.js";import"./index-qc7jHBWQ.js";import"./loading-CB2rs24d.js";import"./index-DVwIKmiX.js";import"./index-B3FGqCGi.js";import"./statistics-5bVQUc8P.js";import"./banner-DAZTkjQb.js";import"./data-panel-lyFjUpe2.js";import"./generalize-Cwa3e7VZ.js";import"./historyMemberChart-Duz7k7xq.js";import"./hotSaleShop.vue_vue_type_script_setup_true_lang-DUQT6Us_.js";import"./todo-list-BxCZ6lIF.js";/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const J=()=>{};function Q(e){return{all:e=e||new Map,on:function(s,n){var t=e.get(s);t?t.push(n):e.set(s,[n])},off:function(s,n){var t=e.get(s);t&&(n?t.splice(t.indexOf(n)>>>0,1):e.set(s,[]))},emit:function(s,n){var t=e.get(s);t&&t.slice().map(function(r){r(n)}),(t=e.get("*"))&&t.slice().map(function(r){r(s,n)})}}}function X(e,s){const{target:n="_blank",...t}={};window.open(e,n,Object.entries(t).reduce((r,y)=>{const[b,m]=y;return[...r,`${b}=${m}`]},[]).join(","))}const Y=new RegExp("^(?!mailto:)(?:http|https|ftp)://(?:\\S+@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}\\.(?:\\d\\d?|1\\d\\d|2[0-4]\\d|25[0-4])|(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9](?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9])*\\.[a-z\\u00a1-\\uffff]{2,}|localhost)(?::\\d{2,5})?(?:([/?#])\\S*)?$","i"),aa=Q(),oa=Symbol("ROUTE_CHANGE");function ea(e,s=!0){aa.on(oa,e)}function ta(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!P(e)}const sa=$({emits:["collapse"],setup(){const e=U(),s=[e.name],n=[e.matched[0].name],t=S(""),r=V(),y=A();(async()=>{try{t.value=r.route,t.value.find(u=>u.path==="dashboard")||t.value.unshift({id:"1",title:"工作台",icon:"icon-dashboard",name:"dashboard",path:"dashboard",level:0,frontRoute:"null",parentId:"0",sortOrder:0,children:[{title:"工作台",name:"Workplace",path:"Workplace",level:1,frontRoute:"views/dashboard/workplace/index",parentId:"1",sortOrder:0}]})}catch(o){console.error("Failed to load permissions:",o)}})();const m=F({get(){return r.device==="desktop"?r.menuCollapse:!1},set(o){r.updateSettings({menuCollapse:o})}}),d=S([]);d.value=n;const f=S([]);f.value=s;const O=o=>{if(Y.test(o.path)){X(o.path);return}o.name&&(f.value=[o.name],y.push({name:o.name}))},C=o=>{const u=[];let p=!1;const a=(l,_,E)=>{var z;if(l.name===E){p=!0,u.push(..._,l.name);return}(z=l.children)!=null&&z.length&&l.children.forEach(I=>{a(I,[..._],E)})};return t.value.forEach(l=>{p||a(l,[l.name],o)}),u};ea(o=>{const{requiresAuth:u,activeMenu:p,hideInMenu:a}=o.meta;if(u&&(!a||p)){const l=C(p||o.name),_=new Set([...l,...d.value]);d.value=[..._],f.value=[p||l[l.length-1]]}},!0);const w=o=>{r.device==="desktop"&&r.updateSettings({menuCollapse:o})},k=()=>{function o(u,p=[]){return u&&u.forEach(a=>{const l=a!=null&&a.icon?()=>M(J(`<${a==null?void 0:a.icon}/>`)):null,_=a!=null&&a.children&&(a==null?void 0:a.children.length)!==0?c(h("a-sub-menu"),{key:a==null?void 0:a.name},{icon:()=>c(g,null,[M(T(a==null?void 0:a.icon))]),title:()=>c(g,null,[a.title||""]),default:()=>c(g,null,[o(a==null?void 0:a.children)])}):c(h("a-menu-item"),{key:a==null?void 0:a.name,onClick:()=>O(a)},{default:()=>[a.title||""],icon:l});p.push(_)}),p}return o(t.value)};return W(()=>e,o=>{o.name&&(d.value.push(o.matched[0].name),f.value=[o.name])},{deep:!0,immediate:!0}),()=>{let o;return c(h("a-menu"),{collapsed:m.value,"onUpdate:collapsed":u=>m.value=u,"open-keys":d.value,"onUpdate:open-keys":u=>d.value=u,"show-collapse-button":r.device!=="mobile","auto-open":!1,"selected-keys":f.value,"default-selected-keys":f.value,"default-open-keys":d.value,"auto-open-selected":!0,"level-indent":34,style:"height: 100%",onCollapse:w},ta(o=k())?o:{default:()=>[o]})}}}),R=B(sa,[["__scopeId","data-v-06774ae4"]]),na={key:0,class:"layout-navbar"},ra={class:"menu-wrapper"},ca=$({__name:"default-layout",setup(e){const{navbar:s,hideMenu:n,menuWidth:t,collapsed:r,setCollapsed:y,drawerVisible:b,drawerCancel:m,paddingStyle:d}=G();return(f,O)=>{const C=h("a-layout-sider"),w=h("a-drawer"),k=h("a-layout"),o=h("a-layout-content");return x(),N(g,null,[c(k,{class:D(["layout",{mobile:i(n)}])},{default:v(()=>[i(s)?(x(),N("div",na,[c(H)])):K("",!0),c(C,{class:"layout-sider",breakpoint:"xl",collapsed:i(r),collapsible:!0,width:i(t),style:j({paddingTop:i(s)?"60px":""}),"hide-trigger":!0,onCollapse:i(y)},{default:v(()=>[L("div",ra,[c(R)])]),_:1},8,["collapsed","width","style","onCollapse"]),i(n)?(x(),q(w,{key:1,visible:i(b),placement:"left",footer:!1,"mask-closable":"",closable:!1,onCancel:i(m)},{default:v(()=>[c(R)]),_:1},8,["visible","onCancel"])):K("",!0)]),_:1},8,["class"]),c(k,{class:"layout-content",style:j(i(d))},{default:v(()=>[c(o,{class:"container"},{default:v(()=>[c(Z)]),_:1})]),_:1},8,["style"])],64)}}}),Ma=B(ca,[["__scopeId","data-v-94f50b43"]]);export{Ma as default};
