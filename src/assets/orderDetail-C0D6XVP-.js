import{d as R,p as $,r as p,h as j,b as y,o as l,c as r,e as f,w as u,u as t,j as P,s as _,k as e,f as d,t as o,x as q,y as F,F as g,i as b,q as M,_ as z}from"./index-C4AMdMz2.js";import{I as E}from"./order-HsmDfkng.js";import{u as v}from"./filters-D05Q2eUM.js";import I from"./detail-address-kGHhIFFK.js";import{_ as U}from"./detail-goods.vue_vue_type_script_setup_true_lang-CTe5WvKU.js";import G from"./detail-order-DtgeDwYA.js";import H from"./detail-trade-ZElSuRm0.js";import"./dist-PezRi_EG.js";import"./tools-BfzgO_2s.js";import"./useCurrentInstance-BLlvmEjv.js";import"./validator-B8pIxTAL.js";import"./detail-log.vue_vue_type_script_setup_true_lang-B7fvR_ds.js";const J={class:"detail-address","border-warm-gray-200":"","border-b-solid":""},K={fixed:"","bottom-0":"","left-0":"","h-60px":"","w-full":"",flex:"","justify-end":"","gap-16px":"","flex-a-c":"","bg-white":"","px-30px":"","text-14px":""},Q={key:0},W={"text-17px":""},X={key:0,class:"wuliu"},Y={class:"layui-layer-wrap"},Z={class:"flex"},ee={class:"flex"},se={class:"div-express-log fontsize-14"},te={class:"express-log express-log-name"},le={class:"time",style:{width:"50%"}},oe={class:"time",style:{width:"30%"}},re={class:"time",style:{width:"20%"}},ie={class:"div-express-log",style:{overflow:"hidden"}},ne={key:0,class:"express-log"},de={class:"time"},ae={class:"detail"},ue={key:1,class:"express-log"},pe={key:0,class:"layui-layer-wrap"},fe={class:"flex"},ve={class:"flex"},ce={class:"div-express-log"},me={key:0,class:"express-log"},_e={class:"time"},xe={class:"detail"},ye={key:1,class:"express-log"},ge=R({__name:"orderDetail",setup(be){const h=$(),B=p(""),c=p(!1),C=p({}),i=p({order:{priceDetailDTO:{}}}),x=p(!1),D=p([]),m=p([]);function N(){E(h.query.id).then(w=>{c.value=!0,C.value=w.data.result.allowOperationVO,i.value=w.data.result})}j(()=>{N()});function V(){c.value=!1,N()}return(w,s)=>{const k=y("a-card"),A=y("a-typography-text"),S=y("a-button"),L=y("a-modal");return l(),r("div",null,[f(k,{bordered:!1,"h-240px":"","border-warm-gray-200":"","border-b-solid":""},{default:u(()=>[t(c)?(l(),P(H,{key:0,res:t(i),onReload:V},null,8,["res"])):_("",!0)]),_:1}),f(k,{title:"订单信息",bordered:!1,"border-warm-gray-200":"","border-b-solid":""},{default:u(()=>[t(c)?(l(),P(G,{key:0,res:t(i)},null,8,["res"])):_("",!0)]),_:1}),e("div",J,[t(c)?(l(),P(I,{key:0,"p-20px":"",res:t(i)},null,8,["res"])):_("",!0)]),d(" "+o(t(B))+" ",1),f(k,{title:"订单货物",bordered:!1},{default:u(()=>[q(f(U,{res:t(i)},null,8,["res"]),[[F,t(c)]])]),_:1}),s[20]||(s[20]=e("div",{"h-60px":""},null,-1)),e("div",K,[e("div",null,[s[2]||(s[2]=d(" 商品总价:")),e("span",null,o(t(v)(t(i).order.priceDetailDTO.goodsPrice,"￥")),1)]),t(i).order.priceDetailDTO.memberBenefitsDiscountPrice?(l(),r("div",Q,[s[3]||(s[3]=d(" 会员折扣:")),e("span",null,"-"+o(t(v)(t(i).order.priceDetailDTO.memberBenefitsDiscountPrice,"￥")),1)])):_("",!0),e("div",null,[s[4]||(s[4]=d(" 优惠：")),e("span",null,o(t(v)(t(i).order.priceDetailDTO.discountPrice,"¥")),1)]),e("div",null,[s[5]||(s[5]=d(" 优惠券")),e("span",null,"-"+o(t(v)(t(i).order.priceDetailDTO.couponPrice,"¥")),1)]),e("div",null,[s[6]||(s[6]=d(" 运费：")),e("span",null,o(t(v)(t(i).order.freightPrice,"￥")),1)]),e("div",null,[s[7]||(s[7]=d(" 调整价格")),e("span",null,o(t(v)(t(i).order.updatePrice,"￥")),1)]),e("div",W,[s[8]||(s[8]=d(" 应付：")),f(A,{"font-bold":"",type:"primary"},{default:u(()=>[d(o(t(v)(t(i).order.priceDetailDTO.flowPrice,"¥")),1)]),_:1})])]),f(L,{visible:t(x),"onUpdate:visible":s[1]||(s[1]=n=>M(x)?x.value=n:null),width:"600px"},{title:u(()=>s[9]||(s[9]=[d(" 查询物流 ")])),footer:u(()=>[f(S,{onClick:s[0]||(s[0]=n=>x.value=!1)},{default:u(()=>s[19]||(s[19]=[d(" 取消 ")])),_:1})]),default:u(()=>[t(D).length>0?(l(),r("div",X,[(l(!0),r(g,null,b(t(D),(n,T)=>(l(),r("div",{key:T},[e("div",Y,[e("div",Z,[s[10]||(s[10]=e("div",null,"物流公司：",-1)),e("div",null,o(n.logisticsName),1)]),e("div",ee,[s[11]||(s[11]=e("div",null,"快递单号：",-1)),e("div",null,o(n.logisticsNo),1)]),e("div",se,[e("ul",te,[(l(!0),r(g,null,b(n.orderPackageItemList,(a,O)=>(l(),r("li",{key:O},[e("span",le,[s[12]||(s[12]=e("span",null,"商品名称：",-1)),e("span",null,o(a.goodsName),1)]),e("span",oe,[s[13]||(s[13]=e("span",null,"发货时间：",-1)),e("span",null,o(a.logisticsTime),1)]),e("span",re,[s[14]||(s[14]=e("span",null,"发货数量：",-1)),e("span",null,o(a.deliverNumber),1)])]))),128))]),e("div",ie,[n.traces&&n.traces.traces?(l(),r("ul",ne,[(l(!0),r(g,null,b(n.traces.traces,(a,O)=>(l(),r("li",{key:O},[e("span",de,o(a.AcceptTime||a.acceptTime),1),e("span",ae,o(a.AcceptStation||a.remark),1)]))),128))])):(l(),r("ul",ue,s[15]||(s[15]=[e("li",null,"暂无物流信息",-1)])))])])])]))),128)),t(D).length===0&&t(m)?(l(),r("div",pe,[e("div",fe,[s[16]||(s[16]=e("div",null,"物流公司：",-1)),e("div",null,o(t(m).shipper),1)]),e("div",ve,[s[17]||(s[17]=e("div",null,"快递单号：",-1)),e("div",null,o(t(m).logisticCode),1)]),e("div",ce,[t(m)&&t(m).traces?(l(),r("ul",me,[(l(!0),r(g,null,b(t(m).traces,(n,T)=>(l(),r("li",{key:T},[e("span",_e,o(n.AcceptTime),1),e("span",xe,o(n.AcceptStation),1)]))),128))])):(l(),r("ul",ye,s[18]||(s[18]=[e("li",null,"暂无物流信息",-1)])))])])):_("",!0)])):_("",!0)]),_:1},8,["visible"])])}}}),Se=z(ge,[["__scopeId","data-v-ae1d1927"]]);export{Se as default};
