import{_ as O}from"./index.vue_vue_type_script_setup_true_lang-DsrWKjKu.js";import{R as z}from"./validator-B8pIxTAL.js";import{d as E,r as _,E as S,b as i,o as d,c as k,e as l,w as t,u as s,k as m,j as x,s as c,f as $,q as j}from"./index-C4AMdMz2.js";const M={key:1,flex:"","gap-8px":"","flex-items-end":""},G=E({__name:"Businessdata",props:{submitFrom:{type:Object,default:()=>{}},verifyDetail:{type:Boolean,default:!1}},setup(y,{expose:V}){const p=y,v=_(""),o=_({contact_info:{}}),r=_(!1),b=_(""),w=_(0),g=_();function q(a,e){b.value=a,w.value=e,r.value=!0}function C(a){g.value=a.url}function I(){r.value=!1;const a=g.value;o.value.sales_scene_info[b.value]=a}async function B(){var e;return!await((e=v.value)==null?void 0:e.validate())}return V({checkoutForm:B}),S(()=>p.submitFrom,a=>{o.value=a},{immediate:!0,deep:!0}),(a,e)=>{const f=i("a-input"),u=i("a-form-item"),F=i("icon-plus"),R=i("a-avatar"),U=i("a-image"),h=i("a-button"),D=i("a-form"),N=i("a-modal");return d(),k("div",null,[l(D,{ref_key:"salesSceneInfoFromRef",ref:v,model:s(o),disabled:p.verifyDetail},{default:t(()=>[l(u,{field:"sales_scene_info.store_name",label:"店铺名称",rules:[s(z)]},{default:t(()=>[l(f,{modelValue:s(o).sales_scene_info.store_name,"onUpdate:modelValue":e[0]||(e[0]=n=>s(o).sales_scene_info.store_name=n),style:{width:"400px"},placeholder:"请输入店铺全称"},null,8,["modelValue"])]),_:1},8,["rules"]),l(u,{field:"sales_scene_info.store_url",label:"店铺链接"},{extra:t(()=>e[7]||(e[7]=[m("div",null,[m("p",null,"1、店铺二维码or店铺链接二选一必填。"),m("p",null,"2、请填写店铺主页链接、需符合网站规范。")],-1)])),default:t(()=>[l(f,{modelValue:s(o).sales_scene_info.store_url,"onUpdate:modelValue":e[1]||(e[1]=n=>s(o).sales_scene_info.store_url=n),style:{width:"400px"},placeholder:"请输入店铺链接"},null,8,["modelValue"])]),_:1}),l(u,{field:"sales_scene_info.store_qr_code",label:"店铺二维码"},{default:t(()=>[m("div",null,[s(o).sales_scene_info.store_qr_code?c("",!0):(d(),x(R,{key:0,size:100,shape:"square",style:{"margin-right":"20px"},onClick:e[2]||(e[2]=n=>q("store_qr_code"))},{default:t(()=>[l(F)]),_:1})),s(o).sales_scene_info&&s(o).sales_scene_info.store_qr_code?(d(),k("div",M,[l(U,{width:"100",height:"100",alt:"avatar",src:s(o).sales_scene_info.store_qr_code},null,8,["src"]),l(h,{onClick:e[3]||(e[3]=n=>s(o).sales_scene_info.store_qr_code="")},{default:t(()=>e[8]||(e[8]=[$(" 清空图片 ")])),_:1})])):c("",!0)])]),_:1}),s(o).organization_type!=="2401"?(d(),x(u,{key:0,field:"store_name",label:"小程序appID"},{default:t(()=>[l(f,{modelValue:s(o).sales_scene_info.mini_program_sub_appid,"onUpdate:modelValue":e[4]||(e[4]=n=>s(o).sales_scene_info.mini_program_sub_appid=n),style:{width:"400px"},placeholder:"请输入小程序appID"},null,8,["modelValue"])]),_:1})):c("",!0)]),_:1},8,["model","disabled"]),l(N,{visible:s(r),"onUpdate:visible":e[5]||(e[5]=n=>j(r)?r.value=n:null),width:1100,title:"oss资源管理",onOk:I,onCancel:e[6]||(e[6]=n=>r.value=!1)},{default:t(()=>[l(O,{initialize:s(r),"is-single":!0,onSelected:C},null,8,["initialize"])]),_:1},8,["visible"])])}}});export{G as _};
