import{f as u}from"./user-D9IBgMMx.js";import{d as j}from"./vuedraggable.umd-Ck4RHsgF.js";import{d as E,r as M,E as $,h as A,b as p,o as i,c as x,e as n,w as o,k as s,j as F,t as c,f,u as m,s as v,F as y,i as L,M as S}from"./index-C4AMdMz2.js";const D={"m-8px":"","h-73px":"",flex:"","flex-a-c":"","bg-white":""},T={"my-4px":""},U={"w-120px":"",flex:"","cursor-pointer":"","flex-j-sb":"","flex-a-c":"",rounded:"","bg-bluegray-100":"","px-18px":"","py-12px":"","text-12px":""},q={key:0},z={"color-bluegray-400":"","font-bold":""},G={flex:"","flex-wrap":"","gap-8px":""},K=E({__name:"user-asset",props:{res:null},setup(b){const t=b,_=M(!1);$(()=>t.res.data.list,()=>{var a;((a=t.res.data.list)==null?void 0:a.length)===0&&(S.error("最少保留一个内容"),t.res.data.list=["coupon"])},{immediate:!0,deep:!0});function h(){var a;((a=t.res.data.list)==null?void 0:a.length)===u.length?t.res.data.list=["coupon"]:t.res.data.list=u.map(e=>e.key)}return A(()=>{}),(a,e)=>{const w=p("a-tooltip"),g=p("a-space"),V=p("a-button"),C=p("a-checkbox"),B=p("a-checkbox-group");return i(),x(y,null,[n(g,{"py-22px":""},{default:o(()=>{var r;return[e[3]||(e[3]=s("div",{"w-90px":""}," 已选择 ",-1)),s("div",null,[s("div",D,[(r=t.res.data.list)!=null&&r.length?(i(),F(m(j),{key:0,list:t.res.data.list,class:"list-group","ghost-class":"ghost","item-key":"id",onStart:e[0]||(e[0]=l=>_.value=!0),onEnd:e[1]||(e[1]=l=>_.value=!1)},{item:o(({element:l,index:d})=>{var k;return[s("div",T,[s("div",U,[l?(i(),x("div",q,[n(w,{content:`当前菜单排序展示为第${d+1}位`},{default:o(()=>[s("span",z,c(d+1),1)]),_:2},1032,["content"]),f(" "+c((k=m(u).find(N=>N.key===l))==null?void 0:k.title),1)])):v("",!0)])])]}),_:1},8,["list"])):v("",!0)])])]}),_:1}),n(g,{"py-22px":""},{default:o(()=>[e[5]||(e[5]=s("div",{"w-90px":""}," 菜单列表 ",-1)),s("div",null,[n(V,{long:"",type:"text","mt-50px":"",onClick:h},{default:o(()=>e[4]||(e[4]=[f(" 一键全选/取消 ")])),_:1}),s("div",G,[(i(!0),x(y,null,L(m(u),(r,l)=>(i(),x("div",{key:l,class:"menu-item","my-10px":"","h-30px":"","w-120px":"",flex:"","cursor-pointer":"","flex-j-c":"","flex-a-c":"","border-1px":"","text-12px":""},[n(B,{modelValue:t.res.data.list,"onUpdate:modelValue":e[2]||(e[2]=d=>t.res.data.list=d)},{default:o(()=>[n(C,{value:r.key,"text-12px":""},{default:o(()=>[f(c(r.title),1)]),_:2},1032,["value"])]),_:2},1032,["modelValue"])]))),128))])])]),_:1})],64)}}});export{K as _};
