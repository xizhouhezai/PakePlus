import{n as D,m as z}from"./index--a7kHzzJ.js";import{d as L,r as d,h as R,b as r,o as p,j as C,w as a,e as t,k as n,f as y,u,c as g,q as O,F as E,i as S,Z as W,t as X,M as P,_ as T}from"./index-C4AMdMz2.js";const K={className:"custom-checkbox-card-title"},Q=L({__name:"mpPrivacy",setup($){const x=d("PRIVACY"),A=d(""),l=d({}),c=d([]),w=d([]),b=d([]),_=d([{label:"用户信息（微信昵称、头像）",value:"UserInfo"},{label:"位置信息",value:"Location"},{label:"地址",value:"Address"},{label:"发票信息",value:"Invoice"},{label:"微信运动数据",value:"RunData"},{label:"麦克风",value:"Record"},{label:"选中的照片或视频信息",value:"Album"},{label:"摄像头",value:"Camera"},{label:"手机号码",value:"PhoneNumber"},{label:"通讯录（仅写入）权限",value:"Contact"},{label:"设备信息",value:"DeviceInfo"},{label:"身份证号码",value:"EXIDNumber"},{label:"订单信息",value:"EXOrderInfo"},{label:"发布内容",value:"EXUserPublishContent"},{label:"所关注账号",value:"EXUserFollowAcct"},{label:"操作日志",value:"EXUserOpLog"},{label:"相册（仅写入）权限",value:"AlbumWriteOnly"},{label:"车牌号",value:"LicensePlate"},{label:"蓝牙",value:"BlueTooth"},{label:"日历（仅写入）权限",value:"CalendarWriteOnly"},{label:"选中的文件",value:"MessageFile"},{label:"选择的位置信息",value:"ChooseLocation"},{label:"加速传感器",value:"Accelerometer"},{label:"磁场传感器",value:"Compass"},{label:"方向传感器",value:"DeviceMotion"},{label:"陀螺仪传感器",value:"Gyroscope"},{label:"剪切板",value:"Clipboard"}]);function B(s){z(s).then(e=>{e.data.success&&(l.value=e.data.result,c.value=l.value.privacySettings.map(i=>i.privacyName),w.value=l.value.privacySettings.map(i=>i.privacyKey),b.value=l.value.privacySettings.map(i=>i.privacyText))})}function h(){B(x.value)}function U(){l.value.privacySettings||(l.value.privacySettings=[]),w.value=c.value.map(s=>_.value.filter(e=>e.label===s)[0].value),b.value.forEach((s,e)=>{s==null||/^\s*$/.test(s)?l.value.privacySettings.splice(e,1):(l.value.privacySettings[e]={},l.value.privacySettings[e].privacyName=c.value[e],l.value.privacySettings[e].privacyKey=w.value[e],l.value.privacySettings[e].privacyText=s)}),D(x.value,l.value).then(s=>{s.data.success?(P.success("保存成功！"),h()):P.error("保存失败！")})}function M(s){window.open(s)}return R(()=>{h()}),(s,e)=>{const i=r("a-input"),v=r("a-form-item"),V=r("a-form"),f=r("a-card"),N=r("a-space"),F=r("a-checkbox"),q=r("a-checkbox-group"),I=r("a-button");return p(),C(f,{class:"general-card",title:"隐私协议",bordered:!1},{default:a(()=>[t(f,{"mb-10px":""},{title:a(()=>e[7]||(e[7]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[n("path",{fill:"#666666","fill-rule":"evenodd",d:"M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.88 1.88 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.29 11.29 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.88 1.88 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75z","clip-rule":"evenodd"})],-1),y(" 开发者信息"),n("span",{style:{color:"#706d6d"}},"（至少填写一栏，否则可能导致小程序审核失败）",-1)])),default:a(()=>[t(V,{ref_key:"applyFormRef",ref:A,model:u(l),style:{width:"500px"},layout:"horizontal","auto-label-width":""},{default:a(()=>[t(v,{field:"contactEmail",label:"邮箱地址"},{default:a(()=>[t(i,{modelValue:u(l).contactEmail,"onUpdate:modelValue":e[0]||(e[0]=o=>u(l).contactEmail=o)},null,8,["modelValue"])]),_:1}),t(v,{field:"contactPhone",label:"手机号"},{default:a(()=>[t(i,{modelValue:u(l).contactPhone,"onUpdate:modelValue":e[1]||(e[1]=o=>u(l).contactPhone=o)},null,8,["modelValue"])]),_:1}),t(v,{field:"contactQq",label:"qq号"},{default:a(()=>[t(i,{modelValue:u(l).contactQq,"onUpdate:modelValue":e[2]||(e[2]=o=>u(l).contactQq=o)},null,8,["modelValue"])]),_:1}),t(v,{field:"contactWeixin",label:"微信号"},{default:a(()=>[t(i,{modelValue:u(l).contactWeixin,"onUpdate:modelValue":e[3]||(e[3]=o=>u(l).contactWeixin=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),t(f,{"mb-10px":""},{title:a(()=>[e[9]||(e[9]=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 16 16"},[n("path",{fill:"#666666","fill-rule":"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06zM10.5 7a3.5 3.5 0 1 1-7 0a3.5 3.5 0 0 1 7 0","clip-rule":"evenodd"})],-1)),e[10]||(e[10]=y(" 选择使用到的权限")),e[11]||(e[11]=n("span",{style:{color:"#706d6d"}},"（选择小程序所用到的权限，并在描述栏目中进行说明）",-1)),(p(),g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24","ml-4px":"",onClick:e[4]||(e[4]=o=>M("https://developers.weixin.qq.com/doc/oplatform/openApi/OpenApiDoc/miniprogram-management/privacy-management/setPrivacySetting.html#privacy-key-%E5%8F%AF%E9%80%89%E5%80%BC%E5%A6%82%E4%B8%8B"))},e[8]||(e[8]=[n("path",{fill:"none",stroke:"#bbbbbb","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.146 9.074a2.998 2.998 0 0 1 5.28-.838A3 3 0 0 1 12 13v1m0 7a9 9 0 1 1 0-18a9 9 0 0 1 0 18m.05-4v.1h-.1V17z"},null,-1)])))]),default:a(()=>[n("div",null,[t(q,{modelValue:u(c),"onUpdate:modelValue":e[5]||(e[5]=o=>O(c)?c.value=o:null),"default-value":[1]},{default:a(()=>[(p(!0),g(E,null,S(u(_),(o,m)=>(p(),g("div",{key:m},[t(F,{value:o.label},{checkbox:a(({checked:k})=>[t(N,{align:"start",class:W(["custom-checkbox-card",{"custom-checkbox-card-checked":k}])},{default:a(()=>[e[12]||(e[12]=n("div",{className:"custom-checkbox-card-mask"},[n("div",{className:"custom-checkbox-card-mask-dot"})],-1)),n("div",K,X(o.label),1)]),_:2},1032,["class"])]),_:2},1032,["value"])]))),128))]),_:1},8,["modelValue"])])]),_:1}),t(f,null,{title:a(()=>e[13]||(e[13]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[n("path",{fill:"#666666","fill-rule":"evenodd",d:"M6.455 1.45A.5.5 0 0 1 6.952 1h2.096a.5.5 0 0 1 .497.45l.186 1.858a5 5 0 0 1 1.466.848l1.703-.769a.5.5 0 0 1 .639.206l1.047 1.814a.5.5 0 0 1-.14.656l-1.517 1.09a5 5 0 0 1 0 1.694l1.516 1.09a.5.5 0 0 1 .141.656l-1.047 1.814a.5.5 0 0 1-.639.206l-1.703-.768c-.433.36-.928.649-1.466.847l-.186 1.858a.5.5 0 0 1-.497.45H6.952a.5.5 0 0 1-.497-.45l-.186-1.858a5 5 0 0 1-1.466-.848l-1.703.769a.5.5 0 0 1-.639-.206l-1.047-1.814a.5.5 0 0 1 .14-.656l1.517-1.09a5 5 0 0 1 0-1.694l-1.516-1.09a.5.5 0 0 1-.141-.656L2.46 3.593a.5.5 0 0 1 .639-.206l1.703.769c.433-.36.928-.65 1.466-.848zm-.177 7.567l-.022-.037a2 2 0 0 1 3.466-1.997l.022.037a2 2 0 0 1-3.466 1.997","clip-rule":"evenodd"})],-1),y(" 自定义权限描述"),n("span",{style:{color:"#706d6d"}},"（无需再带上“为了”或者“用于”这些字眼，小程序端的显示格式是为了xxx，因此开发者只需要直接填写用途即可）",-1)])),default:a(()=>[n("div",null,[t(V,{layout:"vertical"},{default:a(()=>[(p(!0),g(E,null,S(u(c),(o,m)=>(p(),C(v,{key:m,field:"",label:o},{default:a(()=>[t(i,{modelValue:u(b)[m],"onUpdate:modelValue":k=>u(b)[m]=k},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]))),128)),t(v,{field:"",label:""},{default:a(()=>[t(I,{type:"primary",onClick:e[6]||(e[6]=o=>U())},{default:a(()=>e[14]||(e[14]=[y(" 保存配置 ")])),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})}}}),G=T(Q,[["__scopeId","data-v-427b1e92"]]);export{G as default};
