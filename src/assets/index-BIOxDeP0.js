import{o as _,q as I}from"./shops-fXVW_gE8.js";import{as as b,an as v}from"./tools-BfzgO_2s.js";import{U as w,V as U}from"./dist-PezRi_EG.js";import{d as A,n as B,r as u,b as m,o as S,j as x,w as a,e as n,u as s,f as d,s as D,q as L,k as g,t as M,M as $}from"./index-C4AMdMz2.js";const q={style:{"text-align":"center"}},O=A({__name:"index",setup(z){const y=B(),f=u(""),k=[{label:"商户简称",model:"merchantShortname",disabled:!1,input:!0},{label:"店铺名称",model:"extendName",disabled:!1,input:!0},{label:"认证状态",model:"status",disabled:!1,select:{options:b}},{label:"主体类型",model:"organizationType",disabled:!1,select:{options:v}}],C=[{title:"商户简称",dataIndex:"merchantShortname"},{title:"店铺名称",dataIndex:"extendName"},{title:"主体类型",dataIndex:"organizationType",slot:!0,slotData:{badge:v}},{title:"认证状态",dataIndex:"status",slot:!0,slotData:{badge:b}}],h={title:"操作",width:260,methods:[{title:"查看",callback:"detail",slot:!0,slotTemplate:"detail"},{title:"审核",callback:"auth",slot:!0,slotTemplate:"auth"}]},i=u({pageNumber:1,pageSize:10,scene:"SUPPLIER"}),r=u(!1),p=u({});function N(o){y.push({name:"application-detail",query:{id:o.id}})}function c(o){const e={id:p.value.id,status:o};I(e).then(l=>{r.value=!1,l.data.success&&($.success("操作成功"),f.value.init())})}function P(o){p.value=o,r.value=!0}return(o,e)=>{const l=m("a-button"),V=m("a-modal"),R=m("a-card");return S(),x(R,{class:"general-card",title:"TOB店铺审核",bordered:!1},{default:a(()=>[n(s(w),{columns:k,onReset:e[0]||(e[0]=t=>{i.value={...s(i),...t}}),onSearch:e[1]||(e[1]=t=>{i.value={...s(i),...t}})}),n(s(U),{ref_key:"tablePageRef",ref:f,columns:C,methods:h,api:s(_),"api-params":s(i),bordered:!0},{detail:a(({data:t})=>[n(l,{type:"text",status:"success",onClick:T=>N(t)},{default:a(()=>e[5]||(e[5]=[d(" 查看 ")])),_:2},1032,["onClick"])]),auth:a(({data:t})=>[t.status==="APPLYING"?(S(),x(l,{key:0,type:"text",status:"danger",onClick:T=>P(t)},{default:a(()=>e[6]||(e[6]=[d(" 审核 ")])),_:2},1032,["onClick"])):D("",!0)]),_:1},8,["api","api-params"]),n(V,{visible:s(r),"onUpdate:visible":e[4]||(e[4]=t=>L(r)?r.value=t:null),width:"360px"},{title:a(()=>e[7]||(e[7]=[d(" 审核店铺 ")])),footer:a(()=>[n(l,{onClick:e[2]||(e[2]=t=>c("REFUSED"))},{default:a(()=>e[8]||(e[8]=[d(" 驳回 ")])),_:1}),n(l,{type:"primary",onClick:e[3]||(e[3]=t=>c("PASS"))},{default:a(()=>e[9]||(e[9]=[d(" 通过 ")])),_:1})]),default:a(()=>[g("div",q,[g("p",null,"您确认要审核通过该店铺"+M(s(p).merchantShortname),1)])]),_:1},8,["visible"])]),_:1})}}});export{O as default};
