import{j as N,k as v}from"./shops-fXVW_gE8.js";import{an as R,ap as S}from"./tools-BfzgO_2s.js";import{U as q,V}from"./dist-PezRi_EG.js";import{d as M,n as E,r as b,b as m,o,j as y,w as a,e as p,u as l,f as d,s as n,c as r,M as L}from"./index-C4AMdMz2.js";const P={key:0},U={key:1},A={key:2},B={key:3},D={key:4},F={key:5},$={key:6},K=M({__name:"applicationFormList",setup(j){const c=E(),f=b(""),u=b(),k=[{label:"商户简称",model:"merchantShortname",disabled:!1,input:!0},{label:"业务申请编号",model:"outRequestNo",disabled:!1,input:!0},{label:"主体类型",model:"organizationType",disabled:!1,select:{options:R}}],g=[{title:"商户简称",dataIndex:"merchantShortname",width:200},{title:"主体类型",dataIndex:"organizationType",slot:!0,width:100,slotTemplate:"organizationType"},{title:"业务申请编号",width:200,dataIndex:"outRequestNo"},{title:"申请状态",dataIndex:"status",slot:!0,slotData:{badge:S}},{title:"错误信息",width:250,dataIndex:"errorMessage"},{title:"特约商户号",dataIndex:"subMchid",width:200},{title:"签约链接",dataIndex:"signUrl",width:200}],h={title:"操作",width:350,methods:[{slot:!0,slotTemplate:"btnList"}]};function T(s){const e=c.resolve({name:"submit-application",query:{id:s.outRequestNo}});window.open(e.href,"_blank")}function w(s){v(s.outRequestNo).then(e=>{var i;e.data.success&&(L.success("同步成功"),(i=f.value)==null||i.init())})}function H(){}function x(){const s=c.resolve({name:"submit-application",query:{}});window.open(s.href,"_blank")}function C(s){c.push({name:"shop-operation",query:{id:s.record.id}})}return(s,e)=>{const i=m("a-button"),z=m("a-space"),I=m("a-card");return o(),y(I,{class:"general-card",title:"微信进件",bordered:!1},{default:a(()=>[p(l(q),{columns:k,onReset:e[0]||(e[0]=t=>{u.value={...l(u),...t}}),onSearch:e[1]||(e[1]=t=>{u.value={...l(u),...t}})}),p(i,{style:{"margin-bottom":"15px"},type:"primary",onClick:x},{default:a(()=>e[2]||(e[2]=[d(" 服务商进件 ")])),_:1}),p(l(V),{ref_key:"tablePageRef",ref:f,columns:g,methods:h,api:l(N),"api-params":l(u),bordered:!0,onDetail:C},{btnList:a(({data:t})=>[p(z,null,{default:a(()=>[p(i,{type:"text",status:"warning",onClick:_=>T(t)},{default:a(()=>e[3]||(e[3]=[d(" 编辑 ")])),_:2},1032,["onClick"]),t.status!=="FINISH"?(o(),y(i,{key:0,type:"text",onClick:_=>w(t)},{default:a(()=>e[4]||(e[4]=[d(" 同步 ")])),_:2},1032,["onClick"])):n("",!0),t.status==="ACCOUNT_NEED_VERIFY"?(o(),y(i,{key:1,type:"text",status:"success",onClick:_=>void 0},{default:a(()=>e[5]||(e[5]=[d(" 汇款账户验证信息 ")])),_:2},1032,["onClick"])):n("",!0)]),_:2},1024)]),organizationType:a(({data:t})=>[t.organizationType==="2401"?(o(),r("span",P,"小微商户")):n("",!0),t.organizationType==="2500"?(o(),r("span",U,"个体卖家")):n("",!0),t.organizationType==="4"?(o(),r("span",A,"个体工商户")):n("",!0),t.organizationType==="2"?(o(),r("span",B,"企业")):n("",!0),t.organizationType==="3"?(o(),r("span",D,"事业单位")):n("",!0),t.organizationType==="1708"?(o(),r("span",F,"社会组织")):n("",!0),t.organizationType==="2502"?(o(),r("span",$,"政府机关")):n("",!0)]),_:1},8,["api","api-params"])]),_:1})}}});export{K as default};
