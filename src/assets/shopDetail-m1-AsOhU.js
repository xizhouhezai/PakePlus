import{S as fe}from"./goods-CB7YWqUH.js";import{m as M,a as _e}from"./order-HsmDfkng.js";import{u as W,w as be}from"./shops-fXVW_gE8.js";import{u as Y}from"./filters-D05Q2eUM.js";import{p as ge,q as he,u as ye,n as ve,T as k,au as Pe}from"./tools-BfzgO_2s.js";import{U as C,V as F}from"./dist-PezRi_EG.js";import{d as Ne,n as Se,r as p,p as we,h as ke,E as Ce,b as u,o as f,c as _,k as s,e as l,w as i,f as r,t as d,u as o,j,s as x,q as xe,F as E,i as A,_ as Ee}from"./index-C4AMdMz2.js";const Ae={"mb-10px":"",flex:""},De={class:"shop-info"},Te={class:"store-info"},Ie={class:"item"},Le={class:"item"},Oe={class:"item"},Re={class:"item"},qe={class:"info"},Ve={class:"item"},Ue={class:"info"},Be={class:"item"},Ge={class:"info"},ze={class:"item"},Me={class:"info"},We={class:"item"},Ye={class:"info"},Fe={class:"item"},je={class:"info"},$e={key:0,class:"item"},He={class:"info"},Ke={key:1,class:"item"},Xe={class:"info"},Je={class:"item"},Qe={class:"info"},Ze={class:"shop-info"},es={class:"store-info"},ss={class:"item"},ts={class:"order-box"},os={class:"order-lists"},as={class:"header"},ls={style:{color:"#333"}},ns={style:{color:"#333"}},is={class:"body"},ds={style:{width:"30%"}},rs={class:"goods"},us=["src"],cs={class:"goods-info"},ps={style:{width:"100%"},class:"hover-color"},ms={class:"tag",style:{"font-size":"12px"}},fs={class:"goods-num"},_s={class:"global_color"},bs={style:{color:"red"}},gs={style:{width:"10%","line-height":"32px"}},hs={style:{width:"10%","line-height":"32px"}},ys={style:{width:"10%","line-height":"32px"}},vs={style:{width:"10%","line-height":"32px"}},Ps={style:{width:"10%","line-height":"32px"}},Ns={style:{width:"10%","line-height":"32px"}},Ss={style:{width:"10%"}},ws={class:"paginationBox"},ks=Ne({__name:"shopDetail",setup(Cs){const $=Se(),P=p(!1),m=we(),c=p({storeId:m.query.id,pageNumber:1,pageSize:10}),D=p(),g=p({serviceType:"RETURN_GOODS",storeId:m.query.id,sort:"",order:""}),T=p(),h=p({serviceType:"RETURN_MONEY",storeId:m.query.id,sort:"",order:""}),n=p({storeLogo:"",storeName:"",createTime:"",selfOperated:0,companyName:"",companyPhone:0,companyEmail:"",employeeNum:0,registeredCapital:0,linkName:"",linkPhone:0,companyAddressPath:"",companyAddress:"",memberName:0,stockWarning:"",storeAddressPath:"",storeAddressDetail:"",salesConsigneeName:"",salesConsigneeMobile:"",storeCenter:"",salesConsigneeAddressPath:"",salesConsigneeDetail:"",businessCategory:"",storeDesc:"",legalName:"",legalId:"",legalPhoto:"",licenseNum:"",scope:"",licencePhoto:"",settlementBankAccountName:"",settlementBankAccountNum:"",settlementBankBranchName:"",settlementBankJointName:"",settlementCycle:"",storeStatus:""}),H=[{label:"订单号",model:"orderSn",disabled:!1,input:!0},{label:"订单状态",model:"orderStatus",disabled:!1,select:{options:ge}},{label:"支付状态",model:"payStatus",select:{options:he}},{label:"订单类型",model:"orderType",select:{options:ye}},{label:"订单来源",model:"clientType",select:{options:ve}},{label:"创建时间",disabled:!1,datePicker:{type:"range"}}],K=[{label:"订单编号",model:"orderSn",disabled:!1,input:!0},{label:"售后单号",model:"sn",disabled:!1,input:!0},{label:"售后状态",model:"serviceStatus",select:{options:k}},{label:"商家名称",model:"storeName",disabled:!1,input:!0},{label:"会员名称",model:"memberName",disabled:!1,input:!0},{label:"申请时间",disabled:!1,datePicker:{type:"range"}}],X=[{label:"订单编号",model:"orderSn",disabled:!1,input:!0},{label:"售后单号",model:"sn",disabled:!1,input:!0},{label:"售后状态",model:"serviceStatus",select:{options:k}},{label:"商家名称",model:"storeName",disabled:!1,input:!0},{label:"会员名称",model:"memberName",disabled:!1,input:!0},{label:"申请时间",disabled:!1,datePicker:{type:"range"}}],I=[{title:"售后服务单号",dataIndex:"sn",width:270},{title:"订单编号",dataIndex:"orderSn",width:270},{title:"商品",dataIndex:"goodsName",width:220,slot:!0,ellipsis:!1,slotData:{goods:{goodsImage:"goodsImage",goodsName:"goodsName"}}},{title:"会员名称",dataIndex:"memberName",width:100},{title:"商家名称",width:150,dataIndex:"storeName"},{title:"售后金额",width:130,dataIndex:"applyRefundPrice",currency:!0},{title:"售后类型",width:130,dataIndex:"serviceType",slot:!0,slotData:{badge:Pe}},{title:"售后状态",width:130,dataIndex:"serviceStatus",slot:!0,slotData:{badge:k}},{title:"申请时间",width:200,dataIndex:"createTime"}],v=p([]),L=p([]),O=p(),R=p({total:0});function J(t){let e=null;return t==="UNDELIVERED"?e="待发货":t==="UNPAID"?e="未付款":t==="PAID"?e="已付款":t==="DELIVERED"?e="已发货":t==="CANCELLED"?e="已取消":t==="COMPLETED"?e="已完成":t==="TAKE"?e="待核验":t==="STAY_PICKED_UP"?e="待自提":e="",e}function Q(t){let e=null;return t==="UNPAID"?e="待付款":t==="PAID"?e="已付款":t==="CANCEL"?e="已取消":t==="ACCOUNT"?e="已对账":t==="ACCOUNT_ERROR"?e="对账失败":e="",e}function Z(t){let e=null;return t==="H5"?e="WAP端":t==="PC"?e="PC端":t==="WECHAT_MP"?e="小程序端":t==="APP"?e="APP端":e="",e}function ee(t){let e=null;return t==="NEW"||t==="NOT_APPLIED"?e="未申请":t==="ALREADY_APPLIED"?e="已申请":t==="EXPIRED"?e="已失效":e="",e}function se(t){let e=null;return t==="NEW"||t==="NO_APPLY"?e="未申请":t==="APPLYING"?e="申请中":t==="COMPLETE"?e="已完成":t==="EXPIRED"?e="已失效":t==="CANCEL"?e="取消投诉":e="",e}async function q(){const t=await _e(c.value);t.data.success&&(O.value=t.data.result.records,R.value=t.data.result)}function te(t){const e=$.resolve({name:"order-detail",query:{id:t.sn}});window.open(e.href,"_blank")}async function oe(t){P.value=!0,t==="open"?await W(m.query.id,m.query.type,{status:"OPEN"}).then(()=>{}):await W(m.query.id,m.query.type,{status:"CLOSED"}).then(()=>{}),P.value=!1}async function ae(){const t=await be(m.query.id);t.data.success&&(n.value=t.data.result,n.value.storeStatus=n.value.storeStatus==="OPEN"?"open":"close",n.value.businessCategory!=null&&(v.value=n.value.businessCategory.split(",")),n.value.legalPhoto=n.value.legalPhoto.split(","))}async function le(){const t=await fe();t.data.success&&(L.value=t.data.result)}function ne(t){t==="order"&&(c.value.pageNumber=1),t==="refundGoods"&&D.value.init(),t==="refund"&&T.value.init()}return ke(()=>{ae(),le(),q()}),Ce(()=>[c.value],()=>{q()},{deep:!0}),(t,e)=>{const V=u("a-divider"),y=u("a-tag"),ie=u("a-image"),U=u("a-button"),de=u("a-switch"),B=u("a-col"),G=u("a-row"),N=u("a-card"),re=u("a-checkbox"),ue=u("a-checkbox-group"),z=u("a-typography-text"),ce=u("a-pagination"),S=u("a-tab-pane"),pe=u("a-tabs");return f(),_("div",null,[s("div",Ae,[l(N,{"mr-10px":"","flex-1":""},{default:i(()=>[l(V,{orientation:"left"},{default:i(()=>e[11]||(e[11]=[r(" 店铺信息 ")])),_:1}),l(G,{class:"grid-demo",justify:"space-between"},{default:i(()=>[l(B,{class:"col-box"},{default:i(()=>[s("div",De,[s("div",Te,[s("p",Ie,[e[12]||(e[12]=s("span",{class:"label"},"店铺名称：",-1)),s("span",null,d(o(n).storeName),1),l(y,{"ml-10px":"",color:o(n).selfOperated===1?"orangered":"green"},{default:i(()=>[r(d(o(n).selfOperated===1?"自营":"非自营"),1)]),_:1},8,["color"])]),s("p",Le,[e[13]||(e[13]=s("span",{class:"label"},"店铺logo：",-1)),s("span",null,[l(ie,{width:"100",height:"100",src:o(n).storeLogo},null,8,["src"])])]),s("p",Oe,[e[14]||(e[14]=s("span",{class:"label"},"店铺类型：",-1)),s("span",null,[l(y,{color:o(n).verify?"pinkpurple":"purple"},{default:i(()=>[r(d(o(m).query.type==="SUPPLIER"?"供应商":"店铺"),1)]),_:1},8,["color"])])]),s("p",Re,[e[15]||(e[15]=s("span",{class:"label"},"店铺简介：",-1)),s("span",qe,d(o(n).storeDesc?o(n).storeDesc:"暂未完善"),1)]),s("p",Ve,[e[17]||(e[17]=s("span",{class:"label"},"是否认证：",-1)),s("span",Ue,[l(y,{color:o(n).verify?"green":"red"},{default:i(()=>[r(d(o(n).verify?"已认证":"未认证"),1)]),_:1},8,["color"]),o(n).verify?(f(),j(U,{key:0,size:"mini","ml-10px":"",onClick:e[0]||(e[0]=a=>t.$openWindow({name:"application-detail",query:{storeId:o(m).query.id}}))},{default:i(()=>e[16]||(e[16]=[r("查看认证信息")])),_:1})):x("",!0)])]),s("p",Be,[e[18]||(e[18]=s("span",{class:"label"},"自提支持：",-1)),s("span",Ge,[l(y,{color:o(n).enablePickup?"green":"red"},{default:i(()=>[r(d(o(n).enablePickup?"开启":"关闭"),1)]),_:1},8,["color"])])]),s("p",ze,[e[19]||(e[19]=s("span",{class:"label"},"楼层装修：",-1)),s("span",Me,[l(y,{color:o(n).enableDecoration?"green":"red"},{default:i(()=>[r(d(o(n).enableDecoration?"开启":"关闭"),1)]),_:1},8,["color"])])]),s("p",We,[e[20]||(e[20]=s("span",{class:"label"},"商品数量：",-1)),s("span",Ye,d(o(n).goodsNum),1)]),s("p",Fe,[e[21]||(e[21]=s("span",{class:"label"},"库存预警：",-1)),s("span",je,d(o(n).stockWarning),1)]),o(n).createTime?(f(),_("p",$e,[e[22]||(e[22]=s("span",{class:"label"},"开店时间：",-1)),s("span",He,d(o(n).createTime),1)])):x("",!0),o(n).storeStatus==="close"?(f(),_("p",Ke,[e[23]||(e[23]=s("span",{class:"label"},"关店时间：",-1)),s("span",Xe,d(o(n).storeEndTime),1)])):x("",!0),s("p",Je,[e[26]||(e[26]=s("span",{class:"label"},"店铺状态",-1)),s("span",Qe,[l(de,{modelValue:o(n).storeStatus,"onUpdate:modelValue":e[1]||(e[1]=a=>o(n).storeStatus=a),loading:o(P),"checked-value":"open","unchecked-value":"close","unchecked-color":"#999",onChange:oe},{checked:i(()=>e[24]||(e[24]=[r(" 开启中 ")])),unchecked:i(()=>e[25]||(e[25]=[r(" 已禁用 ")])),_:1},8,["modelValue","loading"])])])])])]),_:1})]),_:1})]),_:1}),l(N,{"w-500px":""},{default:i(()=>[l(V,{orientation:"left"},{default:i(()=>e[27]||(e[27]=[r(" 经营信息 ")])),_:1}),l(G,{class:"grid-demo",justify:"space-between"},{default:i(()=>[l(B,{span:24,class:"col-box"},{default:i(()=>[s("div",Ze,[s("div",es,[s("p",ss,[e[28]||(e[28]=s("span",{class:"label"},"经营范围：",-1)),s("span",null,[l(ue,{modelValue:o(v),"onUpdate:modelValue":e[2]||(e[2]=a=>xe(v)?v.value=a:null),"default-checked":!0,disabled:""},{default:i(()=>[(f(!0),_(E,null,A(o(L),(a,w)=>(f(),j(re,{key:w,value:a.id},{default:i(()=>[r(d(a.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])])])])]),_:1})]),_:1})]),_:1})]),l(N,{class:"mt_10"},{default:i(()=>[l(pe,{"default-active-key":"order",onChange:ne},{default:i(()=>[l(S,{key:"order",title:"TA的订单"},{default:i(()=>[l(o(C),{columns:H,onReset:e[3]||(e[3]=a=>{c.value={...o(c),...a}}),onSearch:e[4]||(e[4]=a=>{c.value={...o(c),...a}})}),s("div",ts,[e[32]||(e[32]=s("div",{class:"order-tab"},[s("p",{style:{width:"30%"}}," 订单详情 "),s("p",{style:{width:"10%"}}," 订单来源 "),s("p",{style:{width:"10%"}}," 店铺名称 "),s("p",{style:{width:"10%"}}," 应付 "),s("p",{style:{width:"10%"}}," 买家/收货人 "),s("p",{style:{width:"10%"}}," 订单状态 "),s("p",{style:{width:"10%"}}," 支付状态 "),s("p",{style:{width:"10%"}}," 操作 ")],-1)),s("div",os,[(f(!0),_(E,null,A(o(O),(a,w)=>(f(),_("div",{key:w,class:"order-item"},[s("div",as,[s("p",null,[e[29]||(e[29]=r(" 订单编号：")),l(z,{copyable:"",bold:""},{default:i(()=>[s("span",ls,d(a.sn),1)]),_:2},1024)]),s("p",null,[e[30]||(e[30]=r("下单时间：")),s("span",ns,d(a.createTime),1)])]),s("div",is,[s("div",ds,[s("div",rs,[(f(!0),_(E,null,A(a.orderItems,(b,me)=>(f(),_("div",{key:me},[s("img",{class:"hover-color",src:b.image,alt:""},null,8,us),s("div",cs,[s("div",ps,[l(z,{copyable:"",bold:""},{default:i(()=>[r(d(b.name),1)]),_:2},1024)]),s("div",ms,[s("span",null,"售后状态: "+d(ee(b.afterSaleStatus)),1),s("span",null,"投诉状态："+d(se(b.complainStatus)),1)])]),s("div",fs,[s("span",_s,d(o(Y)(b.goodsPrice,"￥")),1),s("span",bs," x"+d(b.num),1)])]))),128))])]),s("div",gs,d(Z(a.clientType)),1),s("div",hs,d(a.storeName),1),s("div",ys,d(o(Y)(a.flowPrice,"￥")),1),s("div",vs,d(a.memberName),1),s("div",Ps,d(J(a.orderStatus)),1),s("div",Ns,d(Q(a.payStatus)),1),s("div",Ss,[l(U,{type:"text",status:"success",onClick:b=>te(a)},{default:i(()=>e[31]||(e[31]=[r(" 查看 ")])),_:2},1032,["onClick"])])])]))),128))])]),s("div",ws,[l(ce,{total:o(R).total,"show-page-size":"",current:o(c).pageNumber,"page-size":o(c).pageSize,onChange:e[5]||(e[5]=a=>{o(c).pageNumber=a}),onPageSizeChange:e[6]||(e[6]=a=>{o(c).pageSize=a,o(c).pageNumber=1})},null,8,["total","current","page-size"])])]),_:1}),l(S,{key:"refundGoods",title:"TA的退货单"},{default:i(()=>[l(o(C),{columns:K,onReset:e[7]||(e[7]=a=>{g.value={...o(g),...a}}),onSearch:e[8]||(e[8]=a=>{g.value={...o(g),...a}})}),l(o(F),{ref_key:"refundGoodsRef",ref:D,bordered:!0,columns:I,api:o(M),"api-params":o(g)},null,8,["api","api-params"])]),_:1}),l(S,{key:"refund",title:"TA的退款单"},{default:i(()=>[l(o(C),{columns:X,onReset:e[9]||(e[9]=a=>{h.value={...o(h),...a}}),onSearch:e[10]||(e[10]=a=>{h.value={...o(h),...a}})}),l(o(F),{ref_key:"refundRef",ref:T,bordered:!0,columns:I,api:o(M),"api-params":o(h)},null,8,["api","api-params"])]),_:1})]),_:1})]),_:1})])}}}),Os=Ee(ks,[["__scopeId","data-v-dbb80b55"]]);export{Os as default};
