import{C as B,D as E}from"./member-B0DkAxtf.js";import{u as w}from"./filters-D05Q2eUM.js";import{w as W,x as Y}from"./tools-BfzgO_2s.js";import{U as q,V as G}from"./dist-PezRi_EG.js";import{d as h,r,b as f,o as c,j as x,w as l,e as a,u as t,f as m,q as k,k as o,t as i,M as T}from"./index-C4AMdMz2.js";const j={style:{"text-align":"right"}},F={style:{"text-align":"right"}},Z=h({__name:"index",setup(H){const y=r({}),P=r(),R=r(),_=r(!1),v=r(!1),S=r(""),b=r(""),s=r({sn:"",username:"",applyMoney:0,applyStatus:"",createTime:"",id:"",inspectTime:"",inspectRemark:""}),V=[{label:"会员昵称",model:"username",disabled:!1,input:!0},{label:"审核状态",model:"applyStatus",disabled:!1,select:{options:W}},{label:"申请时间",disabled:!1,datePicker:{type:"range"}}],A=[{title:"申请编号",dataIndex:"sn"},{title:"用户ID",dataIndex:"userId"},{title:"用户昵称",dataIndex:"username"},{title:"申请金额",dataIndex:"applyMoney",currency:!0},{title:"提现状态",dataIndex:"applyStatus",slot:!0,slotData:{badge:Y}},{title:"申请时间",dataIndex:"createTime"},{title:"审核时间",dataIndex:"inspectTime"}],U={title:"操作",width:200,methods:[{slot:!0,slotTemplate:"btnList"}]};function M(p){s.value=p,_.value=!0,b.value=""}function C(p){const e={applyId:"",result:!1,remark:""};e.applyId=s.value.id,e.result=p,e.remark=b.value,p===!1&&!b.value?T.error("审核备注不能为空"):E(e).then(d=>{d.data&&(T.success("操作成功"),_.value=!1,S.value.init())})}function N(p){s.value=p,v.value=!0}return(p,e)=>{const d=f("a-button"),D=f("a-space"),u=f("a-form-item"),L=f("a-input"),I=f("a-form"),g=f("a-modal"),$=f("a-card");return c(),x($,{class:"general-card",title:"提现申请",bordered:!1},{default:l(()=>[a(t(q),{columns:V,onReset:e[0]||(e[0]=n=>{y.value={...t(y),...n}}),onSearch:e[1]||(e[1]=n=>{y.value={...t(y),...n}})}),a(t(G),{ref_key:"tablePageRef",ref:S,columns:A,methods:U,api:t(B),"api-params":t(y),bordered:!0},{btnList:l(({data:n})=>[a(D,null,{default:l(()=>[(n==null?void 0:n.applyStatus)==="APPLY"?(c(),x(d,{key:0,type:"text",onClick:z=>M(n)},{default:l(()=>e[8]||(e[8]=[m(" 审核 ")])),_:2},1032,["onClick"])):(c(),x(d,{key:1,size:"small",type:"text",status:"success",onClick:z=>N(n)},{default:l(()=>e[9]||(e[9]=[m(" 查看 ")])),_:2},1032,["onClick"]))]),_:2},1024)]),_:1},8,["api","api-params"]),a(g,{visible:t(_),"onUpdate:visible":e[5]||(e[5]=n=>k(_)?_.value=n:null),"align-center":!1,width:"500px"},{title:l(()=>e[10]||(e[10]=[m(" 审核 ")])),footer:l(()=>[o("div",j,[a(d,{status:"danger",onClick:e[3]||(e[3]=n=>C(!1))},{default:l(()=>e[11]||(e[11]=[m(" 拒绝 ")])),_:1}),a(d,{style:{"margin-left":"10px"},type:"primary",onClick:e[4]||(e[4]=n=>C(!0))},{default:l(()=>e[12]||(e[12]=[m(" 通过 ")])),_:1})])]),default:l(()=>[a(I,{ref_key:"formRef",ref:P,style:{width:"460px"},layout:"horizontal","auto-label-width":"",model:t(s)},{default:l(()=>[a(u,{label:"申请编号："},{default:l(()=>[o("span",null,i(t(s).sn),1)]),_:1}),a(u,{label:"用户名称："},{default:l(()=>[o("span",null,i(t(s).username),1)]),_:1}),a(u,{label:"银行名称："},{default:l(()=>[o("span",null,i(t(s).bankName),1)]),_:1}),a(u,{label:"持卡人姓名："},{default:l(()=>[o("span",null,i(t(s).cardholderName),1)]),_:1}),a(u,{label:"持卡人手机号："},{default:l(()=>[o("span",null,i(t(s).cardholderMobile),1)]),_:1}),a(u,{label:"银行卡号："},{default:l(()=>[o("span",null,i(t(s).cardNumber),1)]),_:1}),a(u,{label:"申请金额："},{default:l(()=>[o("span",null,i(t(w)(t(s).applyMoney,"￥")),1)]),_:1}),a(u,{label:"提现状态："},{default:l(()=>[o("span",null,i(t(s).applyStatus==="APPLY"?"申请中":t(s).applyStatus==="VIA_AUDITING"?"审核通过":t(s).applyStatus==="SUCCESS"?"提现成功":"审核拒绝"),1)]),_:1}),a(u,{label:"申请时间："},{default:l(()=>[o("span",null,i(t(s).createTime),1)]),_:1}),a(u,{label:"审核备注：",required:""},{default:l(()=>[a(L,{modelValue:t(b),"onUpdate:modelValue":e[2]||(e[2]=n=>k(b)?b.value=n:null)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"]),a(g,{visible:t(v),"onUpdate:visible":e[7]||(e[7]=n=>k(v)?v.value=n:null),"align-center":!1,width:"500px"},{title:l(()=>e[13]||(e[13]=[m(" 查看 ")])),footer:l(()=>[o("div",F,[a(d,{type:"text",onClick:e[6]||(e[6]=n=>v.value=!1)},{default:l(()=>e[14]||(e[14]=[m(" 取消 ")])),_:1})])]),default:l(()=>[a(I,{ref_key:"formRefCheck",ref:R,style:{width:"460px"},layout:"horizontal","auto-label-width":"",model:t(s)},{default:l(()=>[a(u,{label:"申请编号："},{default:l(()=>[o("span",null,i(t(s).sn),1)]),_:1}),a(u,{label:"用户名称："},{default:l(()=>[o("span",null,i(t(s).username),1)]),_:1}),a(u,{label:"申请金额："},{default:l(()=>[o("span",null,i(t(w)(t(s).applyMoney,"￥")),1)]),_:1}),a(u,{label:"提现状态："},{default:l(()=>[o("span",null,i(t(s).applyStatus==="APPLY"?"申请中":t(s).applyStatus==="VIA_AUDITING"?"审核通过":t(s).applyStatus==="SUCCESS"?"提现成功":"审核拒绝"),1)]),_:1}),a(u,{label:"申请时间："},{default:l(()=>[o("span",null,i(t(s).createTime),1)]),_:1}),a(u,{label:"审核时间："},{default:l(()=>[o("span",null,i(t(s).inspectTime),1)]),_:1}),a(u,{label:"审核备注："},{default:l(()=>[o("span",null,i(t(s).inspectRemark),1)]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])]),_:1})}}});export{Z as default};
