import{D as C,E as T}from"./operation-CQQGRn8-.js";import{M as D}from"./tools-BfzgO_2s.js";import{V as F}from"./dist-PezRi_EG.js";import{d as M,r as c,b as n,o as i,j as B,w as l,e as o,u as t,q as E,f as _,k as m,t as p,c as u,F as P,i as R,s as U}from"./index-C4AMdMz2.js";const O={key:0},W={key:0},j={style:{"text-align":"right"}},$=M({__name:"index",setup(q){const b=c(""),r=c(!1),x=[{title:"会员名称",dataIndex:"userName"},{title:"手机号码",dataIndex:"mobile"},{title:"反馈内容",dataIndex:"context"},{title:"类型",dataIndex:"type",slot:!0,slotData:{badge:D}},{title:"创建时间",dataIndex:"createTime"}],g={title:"操作",width:250,fixed:"right",methods:[{title:"查看",callback:"detail",type:"text",status:"success"}]},a=c({userName:"",mobile:"",type:"",context:"",images:[]});async function y(f){const e=await T(f.record.id);e.data.code===200&&(a.value=e.data.result,a.value.images=(e.data.result.images||"").split(","),r.value=!0)}return(f,e)=>{const d=n("a-form-item"),k=n("a-textarea"),h=n("a-image"),v=n("a-form"),w=n("a-button"),N=n("a-modal"),V=n("a-card");return i(),B(V,{class:"general-card",title:"意见反馈",bordered:!1},{default:l(()=>[o(t(F),{ref_key:"tablePageRef",ref:b,columns:x,methods:g,api:t(C),bordered:!0,onDetail:y},null,8,["api"]),o(N,{visible:t(r),"onUpdate:visible":e[2]||(e[2]=s=>E(r)?r.value=s:null),"align-center":!1,width:"500px"},{title:l(()=>e[3]||(e[3]=[_(" 详细信息 ")])),footer:l(()=>[m("div",j,[o(w,{type:"text",onClick:e[1]||(e[1]=s=>r.value=!1)},{default:l(()=>e[4]||(e[4]=[_(" 取消 ")])),_:1})])]),default:l(()=>[o(v,{style:{width:"460px"},layout:"horizontal","auto-label-width":"",model:t(a)},{default:l(()=>[o(d,{label:"用户名："},{default:l(()=>[m("span",null,p(t(a).userName),1)]),_:1}),o(d,{label:"手机号："},{default:l(()=>[m("span",null,p(t(a).mobile),1)]),_:1}),o(d,{label:"类型："},{default:l(()=>[m("span",null,p(t(a).type==="FUNCTION"?"功能建议":t(a).type==="OPTIMIZE"?"优化反馈":"其他意见"),1)]),_:1}),o(d,{label:"反馈内容："},{default:l(()=>[o(k,{modelValue:t(a).context,"onUpdate:modelValue":e[0]||(e[0]=s=>t(a).context=s),disabled:""},null,8,["modelValue"])]),_:1}),o(d,{label:"相关材料："},{default:l(()=>[t(a).images?(i(!0),u(P,{key:1},R(t(a).images,(s,I)=>(i(),u("span",{key:I},[s?(i(),u("span",W,[o(h,{width:"80",height:"80",src:s,style:{"margin-right":"10px"}},null,8,["src"])])):U("",!0)]))),128)):(i(),u("span",O,"暂无"))]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])]),_:1})}}});export{$ as default};
