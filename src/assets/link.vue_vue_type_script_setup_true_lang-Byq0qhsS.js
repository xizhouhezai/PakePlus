import{_ as I,t as w}from"./choose.vue_vue_type_script_setup_true_lang-DqoWK00k.js";import{d as S,U as D,r as E,h as H,b as v,o as y,c as m,e as o,w as a,k,u as c,V as h,f,t as N,s as b}from"./index-C4AMdMz2.js";const K={"border-b-1":"","py-30px":""},L={key:0},M={key:1},P={key:0,"pt-10px":"","text-right":""},j=S({__name:"link",props:{res:null,item:null},setup(B){const e=B,i=D(()=>!!e.res),V=E(null);function p(){var t;(t=V.value)==null||t.open()}function U(){e.item?(e.item.url.___type="",e.item.url.___key="",e.item.url.___value=""):(e.res.data.list[0].url.___type="",e.res.data.list[0].url.___key="",e.res.data.list[0].url.___value="")}H(()=>{e.res});function s(){var t;return i.value?e.res.data.list[0].url.___key:(t=e.item)==null?void 0:t.url.___key}function n(){var t;return i.value?e.res.data.list[0].url.___value:(t=e.item)==null?void 0:t.url.___value}function C(t,_){switch(t){case"goods":return{id:_.id,goodsId:_.goodsId,___type:t,___key:s(),___value:n()};case"category":return{id:_.id,___type:t,___key:s(),___value:n()};case"shops":return{id:_.id,___type:t,___key:s(),___value:n()};case"pages":return{id:_.id,title:_.title,___type:t,___key:s(),___value:n()};case"special":return{id:_.id,___type:t,___key:s(),___value:n()};case"other":return{title:_.label,___type:t,___key:s(),___value:n()}}}function $(t){var u,d;const _=t.___type;e.item?(e.item.url=C(_,t),e.item.url.___value=_,e.item.url.___type=(d=w.find(r=>(e.item.url.___key=t[r._bind],r.value===_)))==null?void 0:d.label):(e.res.data.list[0].url=C(_,t),e.res.data.list[0].url.___value=_,e.res.data.list[0].url.___type=(u=w.find(r=>(e.res.data.list[0].url.___key=t[r._bind],r.value===_)))==null?void 0:u.label)}return(t,_)=>{const u=v("a-link"),d=v("a-input"),r=v("a-space");return y(),m("div",K,[o(r,null,{default:a(()=>{var x,g;return[_[6]||(_[6]=k("div",{"w-90px":""}," 跳转链接 ",-1)),k("div",null,[k("div",null,[c(i)?(y(),m("div",L,[o(d,{modelValue:e.res.data.list[0].url.___key,"onUpdate:modelValue":_[1]||(_[1]=l=>e.res.data.list[0].url.___key=l),style:{width:"240px"},readonly:"",placeholder:"请添加跳转链接",onClick:p},h({append:a(()=>[o(u,{hoverable:!1,onClick:_[0]||(_[0]=l=>p())},{default:a(()=>_[4]||(_[4]=[f(" 添加链接 ")])),_:1})]),_:2},[e.res.data.list[0].url.___type?{name:"prepend",fn:a(()=>[f(N(e.res.data.list[0].url.___type),1)]),key:"0"}:void 0]),1032,["modelValue"])])):b("",!0),e.item?(y(),m("div",M,[o(d,{modelValue:e.item.url.___key,"onUpdate:modelValue":_[3]||(_[3]=l=>e.item.url.___key=l),style:{width:"240px"},readonly:"",placeholder:"请添加跳转链接",onClick:p},h({append:a(()=>[o(u,{hoverable:!1,onClick:_[2]||(_[2]=l=>p())},{default:a(()=>_[5]||(_[5]=[f(" 添加链接 ")])),_:1})]),_:2},[(x=e.item)!=null&&x.url.___type?{name:"prepend",fn:a(()=>{var l;return[f(N((l=e.item)==null?void 0:l.url.___type),1)]}),key:"0"}:void 0]),1032,["modelValue"])])):b("",!0)]),c(i)&&e.res.data.list[0].url.___key||!c(i)&&((g=e.item)!=null&&g.url.___key)?(y(),m("div",P,[k("div",{"cursor-pointer":"","color-gray":"",onClick:U}," 清空 ")])):b("",!0)])]}),_:1}),o(I,{ref_key:"decide",ref:V,res:c(i)?e.res.data.list[0]:e.item,onCallback:$},null,8,["res"])])}}});export{j as _};
