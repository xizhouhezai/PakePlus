import{_ as S}from"./index.vue_vue_type_script_setup_true_lang-DsrWKjKu.js";import{T as O,E as j}from"./style-CFU4ZMck.js";import{_ as T,r as a,aj as $,h as B,ak as I,$ as L,E as N,b as c,o as U,c as z,e as i,w as m,f as R,k as D,u as v}from"./index-C4AMdMz2.js";const H={style:{border:"2px solid #eee","border-radius":"10px"}},M={__name:"index",props:{initValue:String},emits:["getEditorContent"],setup(p,{emit:h}){const s=p,g=h,o=a(!1),u=a(null),r=a(),f=a("default"),d=$(),n=a("");B(()=>{I(()=>{s.initValue&&(n.value=s.initValue)})});const b={toolbarKeys:["headerSelect","bold","italic","through","underline","bulletedList","numberedList","color","insertLink","fontSize","lineHeight","delIndent","indent","deleteImage","divider","insertTable","justifyCenter","justifyJustify","justifyLeft","justifyRight","undo","redo","clearStyle","fullScreen","emotion"]},y={placeholder:"请输入内容..."};L(()=>{const t=d.value;t!==null&&t.destroy()});function _(t){d.value=t}function x(t){g("getEditorContent",t.children,n.value)}function C(){o.value=!0}function k(){o.value=!1,r.value.forEach(t=>{const e={type:"image",src:t.url,style:{width:"",height:""},children:[{text:""}]};u.value.editor.insertNode(e)})}function E(t){r.value=[],t.forEach(e=>{r.value.push({url:e.url})})}return N(()=>s.initValue,t=>{n.value=t}),(t,e)=>{const V=c("a-button"),w=c("a-modal");return U(),z("div",null,[i(V,{style:{margin:"10px 0"},onClick:e[0]||(e[0]=l=>C())},{default:m(()=>e[4]||(e[4]=[R(" 上传图片 ")])),_:1}),D("div",H,[i(v(O),{ref_key:"editorData",ref:u,style:{"border-bottom":"1px solid #ccc"},editor:d.value,"default-config":b,mode:f.value},null,8,["editor","mode"]),i(v(j),{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value=l),style:{"min-height":"380px","overflow-y":"hidden","text-align":"left"},"default-config":y,mode:f.value,onOnCreated:_,onOnChange:x},null,8,["modelValue","mode"])]),i(w,{visible:o.value,"onUpdate:visible":e[2]||(e[2]=l=>o.value=l),width:1100,title:"oss资源管理",onOk:k,onCancel:e[3]||(e[3]=l=>o.value=!1)},{default:m(()=>[i(S,{initialize:o.value,onSelected:E},null,8,["initialize"])]),_:1},8,["visible"])])}}},A=T(M,[["__scopeId","data-v-b7d19491"]]);export{A as E};
