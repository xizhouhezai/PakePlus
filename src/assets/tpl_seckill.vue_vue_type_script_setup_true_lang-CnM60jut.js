import{a as x,s as _}from"./promotion-ChRoyrm_.js";import{u as c}from"./filters-D05Q2eUM.js";import k from"./tpl_goods_only-DEAIWKPE.js";import{d as h,U as v,r as y,h as N,u as a,o as w,c as S,e as T,w as i,k as o,t as n,f as V,s as b}from"./index-C4AMdMz2.js";const B={key:0},C={"rounded-100px":"","bg-red-1":"","px-4px":"","py-1px":"","text-10px":"","color-red-6":""},L={"text-12px":"","color-warm-gray":"","line-through":""},A=h({__name:"tpl_seckill",props:{res:null},emits:["update:res"],setup(p,{emit:u}){const l=p,m=u,g=v({get(){return l.res},set(s){m("update:res",s)}}),d=y([]);async function f(){var e,t;const s=await x({pageNumber:1,pageSize:10,sort:"startTime",order:"desc",promotionStatus:"START"});if(s.data.success&&((e=s.data.result)!=null&&e.records.length)){const r=await _({seckillId:s.data.result.records[0].id});r.data.success&&((t=r.data.result)!=null&&t.records.length)&&(d.value=r.data.result.records,g.value.data.list=r.data.result.records)}}return N(()=>{f()}),(s,e)=>a(d).length?(w(),S("div",B,[T(k,{"p-8px":"",res:l.res},{afterImg:i(()=>e[0]||(e[0]=[o("div",null,null,-1)])),goods:i(({data:t})=>[o("span",C,n(a(c)(t.price))+"元起",1),V(" "+n(t.goodsName),1)]),bottom:i(({data:t})=>[o("div",null,[o("div",L," ¥"+n(a(c)(t.originalPrice)),1),e[1]||(e[1]=o("div",null,null,-1))])]),_:1},8,["res"])])):b("",!0)}});export{A as _};
