import{i as x}from"./promotion-ChRoyrm_.js";import{d as g,n as F,p as D,r as f,h as R,b as l,o as t,c as n,k as u,e as s,w as c,t as d,u as o,s as i,F as k,j as h,f as P,_ as U}from"./index-C4AMdMz2.js";const q={class:"content-goods-publish"},V={class:"base-info-item"},w={class:"form-item-view"},B={key:0},Y={key:1},L={key:2},W={key:3},Z={key:0},j={key:1},z={key:2},G={key:0},J={key:1},K={key:0},M={key:1},H={key:2},Q={key:3},X={key:0},$={key:1},tt={key:2},ot={key:0},et={key:1},nt={key:2},st={key:3},at={class:"footer"},ct=g({__name:"coupon-info",setup(it){const E=F(),I=D(),e=f({promotionName:"",couponActivityType:"",activityScope:"",startTime:"",endTime:"",promotionStatus:"",activityScopeInfo:""}),b=[{title:"优惠券名称",dataIndex:"couponName"},{title:"优惠券金额",dataIndex:"price",slotName:"price"},{title:"优惠券类型",dataIndex:"couponType",slotName:"couponType"},{title:"赠送数量",dataIndex:"num"}],N=[{title:"昵称",dataIndex:"nickName"}],T=f([]),m=f([]);function S(){x(I.query.id).then(y=>{if(y.data.success){e.value=y.data.result;const{couponActivityItems:a,activityScopeInfo:_}=y.data.result;T.value=a,m.value=JSON.parse(_)}})}function C(){E.push({name:"coupon-activity"})}return R(()=>{S()}),(y,a)=>{const _=l("a-form-item"),r=l("a-badge"),v=l("a-table"),A=l("a-form"),O=l("a-button");return t(),n("div",null,[u("div",q,[s(A,{layout:"horizontal","auto-label-width":"",model:o(e)},{default:c(()=>[u("div",V,[a[1]||(a[1]=u("h4",null,"优惠券活动详情",-1)),u("div",w,[s(_,{label:"活动名称"},{default:c(()=>[u("span",null,d(o(e).promotionName),1)]),_:1}),s(_,{label:"活动类型"},{default:c(()=>[o(e).couponActivityType==="REGISTERED"?(t(),n("span",B,"新人赠券")):o(e).couponActivityType==="SPECIFY"?(t(),n("span",Y,"精确发券")):o(e).couponActivityType==="AUTO_COUPON"?(t(),n("span",L,"自动赠券")):o(e).couponActivityType==="INVITE_NEW"?(t(),n("span",W,"邀新赠券")):i("",!0)]),_:1}),o(e).couponActivityType==="AUTO_COUPON"?(t(),n(k,{key:0},[o(e).couponFrequencyEnum!==""&&o(e).couponFrequencyEnum!==null&&o(e).couponFrequencyEnum!==void 0?(t(),h(_,{key:0,label:"领取频率"},{default:c(()=>[o(e).couponFrequencyEnum==="DAY"?(t(),n("span",Z,"每日")):o(e).couponFrequencyEnum==="WEEK"?(t(),n("span",j,"每周一次")):(t(),n("span",z,"每月一次"))]),_:1})):i("",!0)],64)):i("",!0),o(e).couponActivityType==="SPECIFY"?(t(),n(k,{key:1},[o(e).couponActivityType==="SPECIFY"||o(e).couponActivityType==="AUTO_COUPON"?(t(),h(_,{key:0,label:"活动范围"},{default:c(()=>[o(e).activityScope==="ALL"?(t(),n("span",G,"全部会员")):(t(),n("span",J," 指定会员 "))]),_:1})):i("",!0)],64)):i("",!0),s(_,{label:"活动时间"},{default:c(()=>[u("span",null,d(o(e).startTime)+"～"+d(o(e).endTime),1)]),_:1}),s(_,{label:"活动状态"},{default:c(()=>[o(e).promotionStatus==="NEW"?(t(),n("span",K,"未开始")):i("",!0),o(e).promotionStatus==="START"?(t(),n("span",M,"已开始")):i("",!0),o(e).promotionStatus==="END"?(t(),n("span",H,"已结束")):i("",!0),o(e).promotionStatus==="CLOSE"?(t(),n("span",Q,"已关闭")):i("",!0)]),_:1})]),a[2]||(a[2]=u("h4",null,"优惠券列表",-1)),s(v,{columns:b,data:o(T),pagination:!1},{price:c(({record:p})=>[p.couponType==="DISCOUNT"?(t(),n("span",X,d(p.couponDiscount)+"折 ",1)):p.couponType==="PRICE"||p.couponType==="ZERO"?(t(),n("span",$," ¥ "+d(p.price),1)):(t(),n("span",tt," 未知 "))]),couponType:c(({record:p})=>[p.couponType==="DISCOUNT"?(t(),n("span",ot,[s(r,{color:"blue",text:"打折"})])):p.couponType==="PRICE"?(t(),n("span",et,[s(r,{color:"purple",text:"减免现金"})])):p.couponType==="ZERO"?(t(),n("span",nt,[s(r,{color:"green",text:"立减"})])):(t(),n("span",st,[s(r,{color:"purple",text:"未知"})]))]),_:1},8,["data"]),o(e).activityScopeInfo&&o(m).length>0?(t(),n(k,{key:0},[a[0]||(a[0]=u("h4",{class:"mt_10"}," 会员列表 ",-1)),s(v,{columns:N,data:o(m),pagination:!1},null,8,["data"])],64)):i("",!0)])]),_:1},8,["model"])]),u("div",at,[s(O,{type:"primary",status:"danger",onClick:C},{default:c(()=>a[3]||(a[3]=[P(" 返回活动列表 ")])),_:1})])])}}}),_t=U(ct,[["__scopeId","data-v-97690d0a"]]);export{_t as default};
