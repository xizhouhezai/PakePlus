import{a4 as x}from"./promotion-ChRoyrm_.js";import{ak as I}from"./tools-BfzgO_2s.js";import{U as C,V as P}from"./dist-PezRi_EG.js";import{d as R,p as v,n as O,r as m,h as V,b as p,o as n,j as c,w as s,e as l,f as a,u as r,c as u,t as f,s as d}from"./index-C4AMdMz2.js";const S={key:0},B={key:1},U={key:2},D={key:3},H=R({__name:"raffle-logs",setup(L){const b=v(),y=O(),_=m(),o=m({sort:"createTime",raffleId:""}),g=[{label:"用户信息",model:"userName",disabled:!1,input:!0},{label:"奖品类型",model:"awardType",disabled:!1,select:{options:I}},{label:"抽奖时间",disabled:!1,datePicker:{type:"range"}}],k=[{title:"id",dataIndex:"id",width:200},{title:"用户信息",dataIndex:"nickname",width:250},{title:"奖品信息",width:250,slot:!0,slotTemplate:"award"},{title:"抽奖时间",dataIndex:"createTime",width:200}];function w(){y.push({name:"raffle"})}return V(async()=>{o.value.raffleId=b.query.id}),(j,e)=>{const T=p("a-button"),i=p("a-tag"),N=p("a-card");return n(),c(N,{class:"general-card",title:"抽奖记录",bordered:!1},{default:s(()=>[l(T,{style:{"margin-bottom":"10px"},onClick:e[0]||(e[0]=t=>w())},{default:s(()=>e[3]||(e[3]=[a(" 返回 ")])),_:1}),l(r(C),{columns:g,onReset:e[1]||(e[1]=t=>{o.value={...r(o),...t}}),onSearch:e[2]||(e[2]=t=>{o.value={...r(o),...t}})}),r(o).raffleId?(n(),c(r(P),{key:0,ref_key:"tablePageRef",ref:_,columns:k,api:r(x),"api-params":r(o),bordered:!0},{award:s(({data:t})=>[t.awardType==="COUPON"?(n(),u("span",S,[l(i,{color:"orange"},{default:s(()=>e[4]||(e[4]=[a("优惠券")])),_:1}),a(" "+f(t.couponName),1)])):d("",!0),t.awardType==="GOODS"?(n(),u("span",B,[l(i,{color:"green"},{default:s(()=>e[5]||(e[5]=[a("商品")])),_:1}),a(" "+f(t.goodsName),1)])):d("",!0),t.awardType==="POINT"?(n(),u("span",U,[l(i,{color:"blue"},{default:s(()=>e[6]||(e[6]=[a("积分")])),_:1}),a(" "+f(t.points)+"积分 ",1)])):d("",!0),t.awardType==="THANK"?(n(),u("span",D,[l(i,{color:"red"},{default:s(()=>e[7]||(e[7]=[a("谢谢惠顾")])),_:1})])):d("",!0)]),_:1},8,["api","api-params"])):d("",!0)]),_:1})}}});export{H as default};
