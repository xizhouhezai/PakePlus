import{z as T}from"./shops-fXVW_gE8.js";import{b as w}from"./tools-BfzgO_2s.js";import{U as S,V as h}from"./dist-PezRi_EG.js";import{d as C,n as I,r,b as n,o as P,j as V,w as d,e as l,u as a,f as m,t as c,k as v}from"./index-C4AMdMz2.js";const M=C({__name:"index",setup(B){const p=I(),b=r(""),u=r("COMPLETE"),s=r({billStatus:u.value}),f=[{label:"账单编号",model:"sn",disabled:!1,input:!0},{label:"出帐时间",disabled:!1,datePicker:{type:"range"}}],_=[{title:"账单号",dataIndex:"sn",width:300},{title:"生成时间",dataIndex:"createTime",width:160},{title:"结算时间段",ellipsis:!1,dataIndex:"startTime",slot:!0,slotTemplate:"time",width:250},{title:"店铺名称",dataIndex:"storeName",width:160},{title:"结算金额",dataIndex:"billPrice",width:160,currency:!0},{title:"状态",dataIndex:"billStatus",slot:!0,width:100,slotData:{badge:w}}],x={title:"操作",width:200,methods:[{title:"详细",callback:"detail",type:"text",status:"success"}]};function y(o){localStorage.setItem("settleID",o.record.id),p.push({name:"bill-detail",query:{id:o.record.id}})}return(o,e)=>{const i=n("a-tab-pane"),g=n("a-tabs"),k=n("a-card");return P(),V(k,{class:"general-card",title:"店铺结算",bordered:!1},{default:d(()=>[l(g,{"default-active-key":a(u),onChange:e[0]||(e[0]=t=>{a(s).billStatus=t})},{default:d(()=>[l(i,{key:"OUT",title:"待对账"}),l(i,{key:"CHECK",title:"待结算"}),l(i,{key:"COMPLETE",title:"已完成"})]),_:1},8,["default-active-key"]),l(a(S),{columns:f,onReset:e[1]||(e[1]=t=>{s.value={...a(s),...t}}),onSearch:e[2]||(e[2]=t=>{s.value={...a(s),...t}})}),l(a(h),{ref_key:"tablePageRef",ref:b,columns:_,methods:x,api:a(T),"api-params":a(s),bordered:!0,onDetail:y},{time:d(({data:t})=>[m(c(t.startTime),1),e[3]||(e[3]=v("span",{style:{margin:"0 10px"}},"-",-1)),m(c(t.endTime),1)]),_:1},8,["api","api-params"])]),_:1})}}});export{M as default};
