import{g as N,s as I}from"./operation-CQQGRn8-.js";import{R as r}from"./validator-B8pIxTAL.js";import{d as U,r as B,h as E,b as s,o as c,c as g,e as t,w as u,f as i,u as l,F as y,s as O,k as v,M as A}from"./index-C4AMdMz2.js";const P={style:{"background-color":"#fff"}},L=U({__name:"oss",setup(x){const _=B(),a=B({type:"ALI_OSS",aliyunOSSAccessKeyId:"",aliyunOSSAccessKeySecret:"",aliyunOSSBucketName:"",aliyunOSSPicLocation:"",aliyunOSSEndPoint:"",m_endpoint:"",m_accessKey:"",m_secretKey:"",m_bucketName:"",m_frontUrl:"",huaweicloudOBSAccessKey:"",huaweicloudOBSSecretKey:"",huaweicloudOBSEndPoint:"",huaweicloudOBSBucketName:"",tencentCOSSecretId:"",tencentCOSSecretKey:"",tencentCOSRegion:"",tencentCOSBucket:"",tencentCOSEndPoint:""});async function w(){const V=await N("OSS_SETTING");a.value=V.data.result}async function b(){var e;await((e=_.value)==null?void 0:e.validate())||(await I("OSS_SETTING",a.value)).data.success&&(A.success("设置成功!"),w())}return E(()=>{w()}),(V,e)=>{const m=s("a-divider"),p=s("a-radio"),K=s("a-radio-group"),o=s("a-form-item"),S=s("a-col"),f=s("a-row"),d=s("a-input"),C=s("a-button"),k=s("a-form");return c(),g("div",P,[t(k,{ref_key:"formRef",ref:_,style:{padding:"30px"},model:l(a),layout:"horizontal","auto-label-width":""},{default:u(()=>[t(m,{orientation:"left"},{default:u(()=>e[19]||(e[19]=[i(" 对象存储设置 ")])),_:1}),t(f,{gutter:24},{default:u(()=>[t(S,{span:12},{default:u(()=>[t(o,{field:"type",label:"平台","validate-trigger":["change"]},{default:u(()=>[t(K,{modelValue:l(a).type,"onUpdate:modelValue":e[0]||(e[0]=n=>l(a).type=n),type:"button"},{default:u(()=>[t(p,{value:"ALI_OSS"},{default:u(()=>e[20]||(e[20]=[i(" 阿里OSS ")])),_:1}),t(p,{value:"MINIO"},{default:u(()=>e[21]||(e[21]=[i(" MINIO ")])),_:1}),t(p,{value:"HUAWEI_OBS"},{default:u(()=>e[22]||(e[22]=[i(" 华为云OBS ")])),_:1}),t(p,{value:"TENCENT_COS"},{default:u(()=>e[23]||(e[23]=[i(" 腾讯云COS ")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(a).type==="ALI_OSS"?(c(),g(y,{key:0},[t(m,{orientation:"left"},{default:u(()=>e[24]||(e[24]=[i(" 阿里云存储 ")])),_:1}),t(f,{gutter:24},{default:u(()=>[t(S,{span:12},{default:u(()=>[t(o,{field:"aliyunOSSEndPoint",label:"节点",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).aliyunOSSEndPoint,"onUpdate:modelValue":e[1]||(e[1]=n=>l(a).aliyunOSSEndPoint=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"aliyunOSSBucketName",label:"储存空间",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).aliyunOSSBucketName,"onUpdate:modelValue":e[2]||(e[2]=n=>l(a).aliyunOSSBucketName=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"aliyunOSSAccessKeyId",label:"密钥id",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).aliyunOSSAccessKeyId,"onUpdate:modelValue":e[3]||(e[3]=n=>l(a).aliyunOSSAccessKeyId=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"aliyunOSSAccessKeySecret",label:"密钥",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).aliyunOSSAccessKeySecret,"onUpdate:modelValue":e[4]||(e[4]=n=>l(a).aliyunOSSAccessKeySecret=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})],64)):O("",!0),l(a).type==="MINIO"?(c(),g(y,{key:1},[t(m,{orientation:"left"},{default:u(()=>e[25]||(e[25]=[i(" MINIO存储 ")])),_:1}),t(f,{gutter:24},{default:u(()=>[t(S,{span:12},{default:u(()=>[t(o,{field:"m_frontUrl",label:"访问地址",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[v("div",null,[t(d,{modelValue:l(a).m_frontUrl,"onUpdate:modelValue":e[5]||(e[5]=n=>l(a).m_frontUrl=n),"allow-clear":""},null,8,["modelValue"]),e[26]||(e[26]=v("div",{style:{"margin-left":"10px",color:"#999","font-size":"12px","margin-top":"10px"}}," 配置MINIO nginx前端访问转发地址，一般为完整域名，例如：https://minio.pickmall.cn ",-1))])]),_:1},8,["rules"]),t(o,{field:"m_endpoint",label:"endpoint",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).m_endpoint,"onUpdate:modelValue":e[6]||(e[6]=n=>l(a).m_endpoint=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"m_accessKey",label:"accessKey",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).m_accessKey,"onUpdate:modelValue":e[7]||(e[7]=n=>l(a).m_accessKey=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"m_secretKey",label:"secretKey",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).m_secretKey,"onUpdate:modelValue":e[8]||(e[8]=n=>l(a).m_secretKey=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"m_bucketName",label:"bucketName",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).m_bucketName,"onUpdate:modelValue":e[9]||(e[9]=n=>l(a).m_bucketName=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})],64)):O("",!0),l(a).type==="HUAWEI_OBS"?(c(),g(y,{key:2},[t(m,{orientation:"left"},{default:u(()=>e[27]||(e[27]=[i(" 华为云存储 ")])),_:1}),t(f,{gutter:24},{default:u(()=>[t(S,{span:12},{default:u(()=>[t(o,{field:"huaweicloudOBSAccessKey",label:"发起者的Access Key",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).huaweicloudOBSAccessKey,"onUpdate:modelValue":e[10]||(e[10]=n=>l(a).huaweicloudOBSAccessKey=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"huaweicloudOBSSecretKey",label:"密钥",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).huaweicloudOBSSecretKey,"onUpdate:modelValue":e[11]||(e[11]=n=>l(a).huaweicloudOBSSecretKey=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"huaweicloudOBSEndPoint",label:"节点",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).huaweicloudOBSEndPoint,"onUpdate:modelValue":e[12]||(e[12]=n=>l(a).huaweicloudOBSEndPoint=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"huaweicloudOBSBucketName",label:"桶",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).huaweicloudOBSBucketName,"onUpdate:modelValue":e[13]||(e[13]=n=>l(a).huaweicloudOBSBucketName=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})],64)):O("",!0),l(a).type==="TENCENT_COS"?(c(),g(y,{key:3},[t(m,{orientation:"left"},{default:u(()=>e[28]||(e[28]=[i(" 腾讯云存储 ")])),_:1}),t(f,{gutter:24},{default:u(()=>[t(S,{span:12},{default:u(()=>[t(o,{field:"tencentCOSSecretId",label:"SecretId",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).tencentCOSSecretId,"onUpdate:modelValue":e[14]||(e[14]=n=>l(a).tencentCOSSecretId=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"tencentCOSSecretKey",label:"SecretKey",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).tencentCOSSecretKey,"onUpdate:modelValue":e[15]||(e[15]=n=>l(a).tencentCOSSecretKey=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"tencentCOSRegion",label:"bucket的地域",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).tencentCOSRegion,"onUpdate:modelValue":e[16]||(e[16]=n=>l(a).tencentCOSRegion=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"tencentCOSBucket",label:"bucket",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).tencentCOSBucket,"onUpdate:modelValue":e[17]||(e[17]=n=>l(a).tencentCOSBucket=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(o,{field:"tencentCOSEndPoint",label:"tencentCOSEndPoint",rules:[l(r)],"validate-trigger":["change"]},{default:u(()=>[t(d,{modelValue:l(a).tencentCOSEndPoint,"onUpdate:modelValue":e[18]||(e[18]=n=>l(a).tencentCOSEndPoint=n),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})],64)):O("",!0),t(o,null,{default:u(()=>[t(C,{type:"primary",onClick:b},{default:u(()=>e[29]||(e[29]=[i(" 保存 ")])),_:1})]),_:1})]),_:1},8,["model"])])}}});export{L as _};
