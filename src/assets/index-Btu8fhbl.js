import{O as S,P as k}from"./operation-CQQGRn8-.js";import{E as w}from"./index-0p7N2Gug.js";import{R as M}from"./validator-B8pIxTAL.js";import{V as h}from"./dist-PezRi_EG.js";import{d as P,r as s,a as U,b as n,o as f,j as y,w as a,e as l,f as m,u as o,t as A,k as d,M as B,_ as D}from"./index-C4AMdMz2.js";import"./index.vue_vue_type_script_setup_true_lang-DsrWKjKu.js";import"./index-CzBKN9cw.js";import"./index--a7kHzzJ.js";import"./useCurrentInstance-BLlvmEjv.js";import"./extra-5DUayDl9.js";import"./style-CFU4ZMck.js";const G={class:"mobile-effect"},L={class:"content"},H=["innerHTML"],Y=P({__name:"index",setup(j){const c=s(1),b=s(),p=s(),E=s([{name:"店铺入驻协议",type:"STORE_REGISTER"},{name:"用户协议",type:"USER_AGREEMENT"},{name:"证照信息",type:"LICENSE_INFORMATION"},{name:"关于我们",type:"ABOUT"},{name:"隐私策略",type:"PRIVACY_POLICY"},{name:"分销推广协议",type:"DISTRIBUTION_AGREEMENT"},{name:"消费者权益保障措施说明",type:"CONSUMER_RIGHTS_PROTECTION"}]),R=[{title:"协议名称",dataIndex:"name"},{title:"协议类型",dataIndex:"type",slot:!0,slotTemplate:"type"}],F={title:"操作",width:250,fixed:"right",methods:[{title:"编辑",callback:"edit",type:"text",status:"success"}]},e=U({modalVisible:!1,articleForm:{},id:"",type:""});function I(r){p.value.resetFields(),S(r.record.type).then(t=>{e.modalVisible=!0,c.value+=1,e.articleForm.categoryId=t.data.result.categoryId,e.id=t.data.result.id,e.articleForm.content=t.data.result.content,e.articleForm.title=t.data.result.title,e.articleForm.sort=t.data.result.sort,e.articleForm.openStatus=t.data.result.openStatus,e.articleForm.type=t.data.result.type,e.type=t.data.result.type})}function g(r,t){e.articleForm.content=t}function v(){k(e.id,e.type,e.articleForm).then(r=>{r.data.success&&B.success("操作成功！")})}return(r,t)=>{const T=n("a-alert"),x=n("a-input"),u=n("a-form-item"),V=n("a-form"),_=n("a-col"),C=n("a-row"),N=n("a-modal"),O=n("a-card");return f(),y(O,{class:"general-card",title:"隐私协议",bordered:!1},{default:a(()=>[l(T,{type:"warning",style:{margin:"10px 0"}},{default:a(()=>t[2]||(t[2]=[m(" 隐私协议在移动端中 设置->关于我们->对应的文章展示 ")])),_:1}),l(o(h),{ref_key:"tablePageRef",ref:b,columns:R,methods:F,"data-list":o(E),bordered:!0,onEdit:I},{type:a(({data:i})=>[m(A(i.type),1)]),_:1},8,["data-list"]),l(N,{visible:o(e).modalVisible,"onUpdate:visible":t[1]||(t[1]=i=>o(e).modalVisible=i),"align-center":!1,"title-align":"start",width:1100,draggable:"",onOk:v},{title:a(()=>t[3]||(t[3]=[m(" 编辑协议 ")])),default:a(()=>[l(C,null,{default:a(()=>[l(_,{span:16},{default:a(()=>[l(V,{ref_key:"formRef",ref:p,model:o(e).articleForm,layout:"horizontal","auto-label-width":""},{default:a(()=>[l(u,{field:"title",label:"文章标题",rules:[o(M)],disabled:!0},{default:a(()=>[l(x,{modelValue:o(e).articleForm.title,"onUpdate:modelValue":t[0]||(t[0]=i=>o(e).articleForm.title=i),style:{width:"380px"}},null,8,["modelValue"])]),_:1},8,["rules"]),l(u,{filed:"content",label:"文章内容"},{default:a(()=>[(f(),y(w,{key:o(c),"init-value":o(e).articleForm.content,onGetEditorContent:g},null,8,["init-value"]))]),_:1})]),_:1},8,["model"])]),_:1}),l(_,{span:8},{default:a(()=>[d("div",G,[t[4]||(t[4]=d("div",{class:"title"}," 页面预览 ",-1)),d("div",L,[d("div",{innerHTML:o(e).articleForm.content},null,8,H)])])]),_:1})]),_:1})]),_:1},8,["visible"])]),_:1})}}}),at=D(Y,[["__scopeId","data-v-8570a17e"]]);export{at as default};
