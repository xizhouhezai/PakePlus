import{z as h,A as L}from"./operation-CQQGRn8-.js";import{u as k}from"./filters-D05Q2eUM.js";import{J as w}from"./tools-BfzgO_2s.js";import{U as $,V as M}from"./dist-PezRi_EG.js";import{d as z,r as _,p as B,b as p,o as y,j as x,w as e,e as l,u as s,f as u,q as N,k as o,t as m,M as q}from"./index-C4AMdMz2.js";const G={style:{"text-align":"right"}},W={style:{"text-align":"right"}},K=z({__name:"index",setup(j){const c=_(),f=_(!1),b=_(!1),i=_({sn:"",price:"",distributionName:""}),S=[{label:"会员名称",model:"memberName",disabled:!1,input:!0},{label:"编号",model:"sn",disabled:!1,input:!0},{label:"状态",model:"distributionCashStatus",disabled:!1,select:{options:w}}],T=[{title:"编号",dataIndex:"sn"},{title:"会员名称",dataIndex:"distributionName"},{title:"申请金额",dataIndex:"price",currency:!0},{title:"申请时间",dataIndex:"createTime"},{title:"处理时间",dataIndex:"updateTime"},{title:"状态",dataIndex:"distributionCashStatus",slot:!0,slotData:{badge:w}}],V={title:"操作",width:200,methods:[{slot:!0,slotTemplate:"btnList"}]},v=_({order:"desc",distributionCashStatus:B().query.distributionCashStatus});function A(r){i.value=r,f.value=!0}function D(r){i.value=r,b.value=!0}function C(r){const t={applyId:"",result:!1};t.applyId=i.value.id,t.result=r,L(t.applyId,{result:t.result}).then(n=>{n.data.code===200&&(q.success("操作成功"),b.value=!1,c.value.init())})}return(r,t)=>{const n=p("a-button"),P=p("a-space"),d=p("a-form-item"),g=p("a-form"),I=p("a-modal"),R=p("a-card");return y(),x(R,{class:"general-card",title:"分销提现",bordered:!1},{default:e(()=>[l(s($),{columns:S,onReset:t[0]||(t[0]=a=>{v.value={...s(v),...a}}),onSearch:t[1]||(t[1]=a=>{v.value={...s(v),...a}})}),l(s(M),{ref_key:"tablePageRef",ref:c,columns:T,methods:V,api:s(h),"api-params":s(v),bordered:!0},{btnList:e(({data:a})=>[l(P,null,{default:e(()=>[(a==null?void 0:a.distributionCashStatus)!=="APPLY"?(y(),x(n,{key:0,type:"text",status:"success",onClick:U=>A(a)},{default:e(()=>t[7]||(t[7]=[u(" 查看 ")])),_:2},1032,["onClick"])):(y(),x(n,{key:1,type:"text",onClick:U=>D(a)},{default:e(()=>t[8]||(t[8]=[u(" 审核 ")])),_:2},1032,["onClick"]))]),_:2},1024)]),_:1},8,["api","api-params"]),l(I,{visible:s(f),"onUpdate:visible":t[3]||(t[3]=a=>N(f)?f.value=a:null),"align-center":!1,width:"500px"},{title:e(()=>t[9]||(t[9]=[u(" 查看 ")])),footer:e(()=>[o("div",G,[l(n,{type:"text",onClick:t[2]||(t[2]=a=>f.value=!1)},{default:e(()=>t[10]||(t[10]=[u(" 取消 ")])),_:1})])]),default:e(()=>[l(g,{style:{width:"460px"},layout:"horizontal","auto-label-width":"",model:s(i)},{default:e(()=>[l(d,{label:"编号："},{default:e(()=>[o("span",null,m(s(i).sn),1)]),_:1}),l(d,{label:"名称："},{default:e(()=>[o("span",null,m(s(i).distributionName),1)]),_:1}),l(d,{label:"金额："},{default:e(()=>[o("span",null,m(s(k)(Number(s(i).price),"￥")),1)]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"]),l(I,{visible:s(b),"onUpdate:visible":t[6]||(t[6]=a=>N(b)?b.value=a:null),"align-center":!1,width:"500px"},{title:e(()=>t[11]||(t[11]=[u(" 查看 ")])),footer:e(()=>[o("div",W,[l(n,{type:"primary",status:"danger",onClick:t[4]||(t[4]=a=>C("FAIL_AUDITING"))},{default:e(()=>t[12]||(t[12]=[u(" 拒绝 ")])),_:1}),l(n,{style:{"margin-left":"10px"},type:"primary",status:"success",onClick:t[5]||(t[5]=a=>C("VIA_AUDITING"))},{default:e(()=>t[13]||(t[13]=[u(" 通过 ")])),_:1})])]),default:e(()=>[l(g,{style:{width:"460px"},layout:"horizontal","auto-label-width":"",model:s(i)},{default:e(()=>[l(d,{label:"编号："},{default:e(()=>[o("span",null,m(s(i).sn),1)]),_:1}),l(d,{label:"名称："},{default:e(()=>[o("span",null,m(s(i).distributionName),1)]),_:1}),l(d,{label:"金额："},{default:e(()=>[o("span",null,m(s(k)(Number(s(i).price),"￥")),1)]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])]),_:1})}}});export{K as default};
