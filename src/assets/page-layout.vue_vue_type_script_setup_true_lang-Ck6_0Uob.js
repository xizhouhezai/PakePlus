import{c as q}from"./statisitics-CehHs8Ha.js";import{u as H}from"./user-CppB_Ihe.js";import{R as Y,bV as B,bW as D,d as T,b as r,o as l,j as d,w as s,e as o,k as i,s as C,f as K,r as A,D as E,a as X,bX as Z,U as v,Y as G,h as N,c as U,u as g,_ as J,ad as Q,$ as ee,bY as te,aw as ne,ai as M,bZ as oe}from"./index-C4AMdMz2.js";import{g as se}from"./assetsImages-DUrhbhdO.js";import{u as ae}from"./index-Cwm13-Rt.js";import re from"./index-iI9r8b6d.js";function le(n){const{name:t,meta:a,fullPath:e,query:f}=n;return{title:a.locale||"",name:String(t),fullPath:e,query:f,ignoreCache:a.ignoreCache}}const ie=Y("tabBar",{state:()=>({cacheTabList:new Set([B]),tagList:[D]}),getters:{getTabList(){return this.tagList},getCacheList(){return Array.from(this.cacheTabList)}},actions:{updateTabList(n){this.tagList.push(le(n)),n.meta.ignoreCache||this.cacheTabList.add(n.name)},deleteTag(n,t){this.tagList.splice(n,1),this.cacheTabList.delete(t.name)},freshTabList(n){this.tagList=n,this.cacheTabList.clear(),this.tagList.filter(t=>!t.ignoreCache).map(t=>t.name).forEach(t=>this.cacheTabList.add(t))},resetTabList(){this.tagList=[D],this.cacheTabList.clear(),this.cacheTabList.add(B)}}}),ue=T({__name:"index",props:{res:{type:Object,default:()=>({})}},setup(n){const t=n;return(a,e)=>{const f=r("icon-calendar-clock"),b=r("a-button"),u=r("a-badge"),c=r("a-space"),_=r("a-doption"),L=r("a-dropdown");return l(),d(L,{trigger:"click"},{content:s(()=>[t.res.balanceCash?(l(),d(_,{key:0},{default:s(()=>[o(c,{onClick:e[0]||(e[0]=p=>a.$router.push({name:"withdraw-apply"}))},{default:s(()=>[e[8]||(e[8]=i("span",null," 待处理预存款提现申请 ",-1)),o(u,{count:t.res.balanceCash},null,8,["count"])]),_:1})]),_:1})):C("",!0),t.res.complain?(l(),d(_,{key:1},{default:s(()=>[o(c,{onClick:e[1]||(e[1]=p=>a.$router.push({name:"order-complaint"}))},{default:s(()=>[e[9]||(e[9]=i("span",null," 待处理投诉审核 ",-1)),o(u,{count:t.res.complain},null,8,["count"])]),_:1})]),_:1})):C("",!0),t.res.distributionCash?(l(),d(_,{key:2},{default:s(()=>[o(c,{onClick:e[2]||(e[2]=p=>a.$router.push({name:"distribution-withdrawal"}))},{default:s(()=>[e[10]||(e[10]=i("span",null," 待处理分销商提现申请 ",-1)),o(u,{count:t.res.distributionCash},null,8,["count"])]),_:1})]),_:1})):C("",!0),t.res.goods?(l(),d(_,{key:3},{default:s(()=>[o(c,{onClick:e[3]||(e[3]=p=>a.$router.push({name:"goods-list",query:{status:"TOBEAUDITED"}}))},{default:s(()=>[e[11]||(e[11]=i("span",null," 待处理商品审核 ",-1)),o(u,{count:t.res.goods},null,8,["count"])]),_:1})]),_:1})):C("",!0),t.res.refund?(l(),d(_,{key:4},{default:s(()=>[o(c,{onClick:e[4]||(e[4]=p=>a.$router.push({name:"after-sale"}))},{default:s(()=>[e[12]||(e[12]=i("span",null," 待处理售后申请 ",-1)),o(u,{count:t.res.refund},null,8,["count"])]),_:1})]),_:1})):C("",!0),t.res.store?(l(),d(_,{key:5},{default:s(()=>[o(c,{onClick:e[5]||(e[5]=p=>a.$router.push({name:"store-audit"}))},{default:s(()=>[e[13]||(e[13]=i("span",null," 待处理店铺认证信息审核 ",-1)),o(u,{count:t.res.store},null,8,["count"])]),_:1})]),_:1})):C("",!0),t.res.waitPayBill?(l(),d(_,{key:6},{default:s(()=>[o(c,{onClick:e[6]||(e[6]=p=>a.$router.push({name:"shop-reconciliation"}))},{default:s(()=>[e[14]||(e[14]=i("span",null," 待与商家对账 ",-1)),o(u,{count:t.res.waitPayBill},null,8,["count"])]),_:1})]),_:1})):C("",!0)]),default:s(()=>[o(b,{type:"text"},{default:s(()=>[o(f),e[7]||(e[7]=K("待办事项 "))]),_:1})]),_:1})}}}),ce={class:"navbar"},de={class:"left-side"},pe=["src"],fe={class:"right-side"},me=["src"],_e=T({__name:"index",setup(n){const t=A(localStorage.getItem("manager_logo")||se("logo.png")),a=E(),e=ae(),{logout:f}=H(),b=X({data:{}}),{isFullscreen:u,toggle:c}=Z(),_=v(()=>e.userInfo.face);function L(){f("","no-redirect")}async function p(){const k=await q();k.data.success&&(b.data=k.data.result)}const w=G("toggleDrawerMenu");function y(){p()}return N(()=>{y()}),(k,m)=>{const x=r("icon-menu-fold"),h=r("a-space"),F=r("icon-fullscreen-exit"),W=r("icon-fullscreen"),I=r("a-button"),P=r("a-tooltip"),R=r("a-avatar"),V=r("icon-user"),$=r("a-doption"),z=r("icon-lock"),O=r("icon-export"),j=r("a-dropdown");return l(),U("div",ce,[i("div",de,[o(h,null,{default:s(()=>[i("img",{alt:"logo",class:"logo",src:g(t),onClick:m[0]||(m[0]=S=>k.$router.push("/Workplace"))},null,8,pe),g(a).device==="mobile"?(l(),d(x,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:g(w)},null,8,["onClick"])):C("",!0)]),_:1})]),i("ul",fe,[i("li",null,[o(P,{content:g(u)?"点击退出全屏模式":"点击切换全屏模式"},{default:s(()=>[o(I,{class:"nav-btn",type:"outline",shape:"circle",onClick:g(c)},{icon:s(()=>[g(u)?(l(),d(F,{key:0})):(l(),d(W,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),i("li",null,[o(ue,{res:g(b).data},null,8,["res"])]),i("li",null,[o(j,{trigger:"click"},{content:s(()=>[o($,null,{default:s(()=>[o(h,{onClick:m[1]||(m[1]=S=>k.$router.push({name:"personal-center"}))},{default:s(()=>[o(V),m[3]||(m[3]=i("span",null," 个人中心 ",-1))]),_:1})]),_:1}),o($,null,{default:s(()=>[o(h,{onClick:m[2]||(m[2]=S=>k.$router.push({name:"change-password"}))},{default:s(()=>[o(z),m[4]||(m[4]=i("span",null," 修改密码 ",-1))]),_:1})]),_:1}),o($,null,{default:s(()=>[o(h,{onClick:L},{default:s(()=>[o(O),m[5]||(m[5]=i("span",null," 退出 ",-1))]),_:1})]),_:1})]),default:s(()=>[o(R,{size:32,style:{marginRight:"8px",cursor:"pointer"}},{default:s(()=>[i("img",{alt:"avatar",src:g(_)},null,8,me)]),_:1})]),_:1})])])])}}}),Se=J(_e,[["__scopeId","data-v-4bd2f6fe"]]);function ge(n,t,a,e=!1){n.addEventListener&&typeof n.addEventListener=="function"&&n.addEventListener(t,a,e)}function ve(n,t,a,e=!1){n.removeEventListener&&typeof n.removeEventListener=="function"&&n.removeEventListener(t,a,e)}const be=992;function ke(){return document.body.getBoundingClientRect().width-1<be}function Ce(n){const t=E();function a(){if(!document.hidden){const f=ke();t.toggleDevice(f?"mobile":"desktop"),t.toggleMenu(f)}}const e=te(a,100);N(()=>{e()}),Q(()=>{ge(window,"resize",e)}),ee(()=>{ve(window,"resize",e)})}function Be(){const n=E();Ce();const t="60px",a=v(()=>n.navbar),e=v(()=>n.menu),f=v(()=>n.hideMenu),b=v(()=>n.footer),u=v(()=>n.menuCollapse?48:n.menuWidth),c=v(()=>n.menuCollapse),_=v(()=>{const y=e.value&&!f.value?{paddingLeft:`${u.value}px`}:{},k=a.value?{paddingTop:t}:{};return{...y,...k}});function L(y){n.updateSettings({menuCollapse:y})}const p=A(!1);function w(){p.value=!1}return ne("toggleDrawerMenu",()=>{p.value=!p.value}),{navbar:a,renderMenu:e,hideMenu:f,footer:b,menuWidth:u,collapsed:c,paddingStyle:_,setCollapsed:L,drawerVisible:p,drawerCancel:w}}const Le={key:1},De=T({__name:"page-layout",setup(n){const t=ie(),a=v(()=>t.getCacheList);return(e,f)=>{const b=r("router-view");return l(),d(b,null,{default:s(({Component:u,route:c})=>[c.path==="/Workplace"?(l(),d(re,{key:0})):(l(),U("div",Le,[c.meta.ignoreCache?(l(),d(M(u),{key:c.fullPath})):(l(),d(oe,{key:1,include:g(a)},[(l(),d(M(u),{key:c.fullPath}))],1032,["include"]))]))]),_:1})}}});export{Se as N,De as _,Be as u};
