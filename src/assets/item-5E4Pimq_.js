import{u as _}from"./useDrag-BGaSN1AF.js";import{u as h}from"./useDrop-BbPs1LL9.js";import{d as y,r as C,as as B,U as D,o as I,c as O,k as R,a2 as k,A as S,u as l,_ as b}from"./index-C4AMdMz2.js";const w=y({__name:"item",props:{id:null,index:null,moveCard:{type:Function}},setup(u){const n=u,r=C(),[,f]=h({accept:"item",collect(e){return{handlerId:e.getHandlerId(),isShallowOver:e.isOver({shallow:!0})}},hover(e,a){var d;if(!r.value)return;const o=e.index,t=n.index;if(o===t)return;const s=(d=r.value)==null?void 0:d.getBoundingClientRect(),c=(s.bottom-s.top)/2,i=a.getClientOffset().y-s.top;o<t&&i<c||o>t&&i>c||(n.moveCard(o,t),e.index=t)}}),[p,m]=_({type:"item",item:()=>({id:n.id,index:n.index}),collect:e=>({isDragging:e.isDragging()})}),{isDragging:g}=B(p),v=D(()=>l(g)?0:1),x=e=>{r.value=m(f(e))};return(e,a)=>(I(),O("div",null,[R("div",{ref:x,class:"card",style:S({opacity:l(v)})},[k(e.$slots,"default",{},void 0,!0)],4)]))}}),F=b(w,[["__scopeId","data-v-248677b5"]]);export{F as default};
