import{g as A,s as P}from"./operation-CQQGRn8-.js";import{R as r}from"./validator-B8pIxTAL.js";import{d as K,r as _,h as N,b as s,o as V,c as w,e as a,w as d,u as e,f as i,F as y,s as c,M as E}from"./index-C4AMdMz2.js";const k={style:{"background-color":"#fff"}},R=K({__name:"sms",setup(M){const v=_(),t=_({type:"",accessKeyId:"",regionId:"",picLocation:"",accessSecret:"",signName:"",tencentSecretId:"",tencentSecretKey:"",tencentSdkAppId:"",tencentSignName:"",huaweiAppKey:"",huaweiAppSecret:"",huaweiSender:"",huaweiSignature:"",isTestModel:!0,loginTemplateCode:"",registerTemplateCode:"",findPasswordTemplateCode:"",walletPasswordTemplateCode:"",payPasswordTemplateCode:""});async function C(){const S=await A("SMS_SETTING");t.value=S.data.result,t.value.type||(t.value.type="ALI")}async function b(){var l;await((l=v.value)==null?void 0:l.validate())||(await P("SMS_SETTING",t.value)).data.success&&(E.success("设置成功!"),C())}return N(()=>{C()}),(S,l)=>{const m=s("a-radio"),T=s("a-radio-group"),u=s("a-form-item"),n=s("a-input"),p=s("a-divider"),f=s("a-col"),g=s("a-row"),I=s("a-button"),U=s("a-form");return V(),w("div",k,[a(U,{ref_key:"formRef",ref:v,style:{padding:"30px"},model:e(t),layout:"horizontal","auto-label-width":""},{default:d(()=>[a(u,{field:"isTestModel",label:"是否测试模式",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(T,{modelValue:e(t).isTestModel,"onUpdate:modelValue":l[0]||(l[0]=o=>e(t).isTestModel=o),type:"button"},{default:d(()=>[a(m,{value:!0},{default:d(()=>l[18]||(l[18]=[i(" 开启 ")])),_:1}),a(m,{value:!1},{default:d(()=>l[19]||(l[19]=[i(" 关闭 ")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"loginTemplateCode",label:"登录短信模板CODE",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).loginTemplateCode,"onUpdate:modelValue":l[1]||(l[1]=o=>e(t).loginTemplateCode=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"registerTemplateCode",label:"注册短信模板CODE",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).registerTemplateCode,"onUpdate:modelValue":l[2]||(l[2]=o=>e(t).registerTemplateCode=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"findPasswordTemplateCode",label:"找回密码短信模板CODE",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).findPasswordTemplateCode,"onUpdate:modelValue":l[3]||(l[3]=o=>e(t).findPasswordTemplateCode=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"walletPasswordTemplateCode",label:"设置密码短信模板CODE",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).walletPasswordTemplateCode,"onUpdate:modelValue":l[4]||(l[4]=o=>e(t).walletPasswordTemplateCode=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"payPasswordTemplateCode",label:"支付密码短信模板CODE",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).payPasswordTemplateCode,"onUpdate:modelValue":l[5]||(l[5]=o=>e(t).payPasswordTemplateCode=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(p,{orientation:"left"},{default:d(()=>l[20]||(l[20]=[i(" 短信平台 ")])),_:1}),a(g,{gutter:24},{default:d(()=>[a(f,{span:12},{default:d(()=>[a(u,{field:"type",label:"平台","validate-trigger":["change"]},{default:d(()=>[a(T,{modelValue:e(t).type,"onUpdate:modelValue":l[6]||(l[6]=o=>e(t).type=o),type:"button"},{default:d(()=>[a(m,{value:"ALI"},{default:d(()=>l[21]||(l[21]=[i(" 阿里云 ")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(t).type==="ALI"?(V(),w(y,{key:0},[a(p,{orientation:"left"},{default:d(()=>l[22]||(l[22]=[i(" 阿里云短信 ")])),_:1}),a(g,{gutter:24},{default:d(()=>[a(f,{span:12},{default:d(()=>[a(u,{field:"accessKeyId",label:"accessKeyId",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).accessKeyId,"onUpdate:modelValue":l[7]||(l[7]=o=>e(t).accessKeyId=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"accessSecret",label:"accessSecret",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).accessSecret,"onUpdate:modelValue":l[8]||(l[8]=o=>e(t).accessSecret=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"signName",label:"短信签名",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).signName,"onUpdate:modelValue":l[9]||(l[9]=o=>e(t).signName=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})],64)):c("",!0),e(t).type==="HUAWEI"?(V(),w(y,{key:1},[a(p,{orientation:"left"},{default:d(()=>l[23]||(l[23]=[i(" 华为云短信 ")])),_:1}),a(g,{gutter:24},{default:d(()=>[a(f,{span:12},{default:d(()=>[a(u,{field:"huaweiAppKey",label:"APP_Key",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).huaweiAppKey,"onUpdate:modelValue":l[10]||(l[10]=o=>e(t).huaweiAppKey=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"huaweiAppSecret",label:"APP_Secret",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).huaweiAppSecret,"onUpdate:modelValue":l[11]||(l[11]=o=>e(t).huaweiAppSecret=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"huaweiSender",label:"短信签名通道号",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).huaweiSender,"onUpdate:modelValue":l[12]||(l[12]=o=>e(t).huaweiSender=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"huaweiSignature",label:"短信签名",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).huaweiSignature,"onUpdate:modelValue":l[13]||(l[13]=o=>e(t).huaweiSignature=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})],64)):c("",!0),e(t).type==="TENCENT"?(V(),w(y,{key:2},[a(p,{orientation:"left"},{default:d(()=>l[24]||(l[24]=[i(" 腾讯云短信 ")])),_:1}),a(g,{gutter:24},{default:d(()=>[a(f,{span:12},{default:d(()=>[a(u,{field:"tencentSecretId",label:"SecretId",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).tencentSecretId,"onUpdate:modelValue":l[14]||(l[14]=o=>e(t).tencentSecretId=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"tencentSecretKey",label:"SecretKey",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).tencentSecretKey,"onUpdate:modelValue":l[15]||(l[15]=o=>e(t).tencentSecretKey=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"tencentSdkAppId",label:"短信应用ID",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).tencentSdkAppId,"onUpdate:modelValue":l[16]||(l[16]=o=>e(t).tencentSdkAppId=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),a(u,{field:"tencentSignName",label:"短信签名",rules:[e(r)],"validate-trigger":["change"]},{default:d(()=>[a(n,{modelValue:e(t).tencentSignName,"onUpdate:modelValue":l[17]||(l[17]=o=>e(t).tencentSignName=o),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})],64)):c("",!0),a(u,null,{default:d(()=>[a(I,{type:"primary",onClick:b},{default:d(()=>l[25]||(l[25]=[i(" 保存 ")])),_:1})]),_:1})]),_:1},8,["model"])])}}});export{R as _};
