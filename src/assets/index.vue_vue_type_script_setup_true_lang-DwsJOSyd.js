import{g}from"./statisitics-CehHs8Ha.js";import{V as _}from"./dist-PezRi_EG.js";import{d as b,r as h,a as T,E as v,b as c,o as C,c as N,e as n,w as r,f as m,u as o,t as V}from"./index-C4AMdMz2.js";const k=b({__name:"index",props:{dateType:{type:Object,default:()=>({recent:"LAST_SEVEN",month:""})},max:{type:null,default:""}},setup(i){const d=i,s=h(),a=T({params:{searchType:d.dateType.recent,type:"NUM"}}),f=[{title:"排名",dataIndex:"index",slot:!0,slotTemplate:"index"},{title:"商品名称",dataIndex:"goodsName"},{title:"销售数量",dataIndex:"num"},{title:"销售金额",dataIndex:"price",currency:!0}];function l(){var e;s.value&&((e=s.value)==null||e.init())}const y=e=>{a.params.type=e,l()};return v(()=>d.dateType,e=>{if(a.params.searchType=e.recent,e.month){const t=e.month.split("-")[1];a.params.month=t.startsWith("0")?t.substr(1):t,a.params.year=e.month.split("-")[0]}l()},{deep:!0,immediate:!0}),(e,t)=>{const u=c("a-radio"),x=c("a-radio-group");return C(),N("div",null,[n(x,{"model-value":o(a).params.type,"onUpdate:modelValue":t[0]||(t[0]=p=>o(a).params.type=p),style:{"margin-bottom":"20px"},type:"button",onChange:y},{default:r(()=>[n(u,{value:"NUM"},{default:r(()=>t[1]||(t[1]=[m(" 商品订单数量 ")])),_:1}),n(u,{value:"PRICE"},{default:r(()=>t[2]||(t[2]=[m(" 商品订单金额 ")])),_:1})]),_:1},8,["model-value"]),n(o(_),{ref_key:"tablePageRef",ref:s,columns:f,api:o(g),"custom-api-params":o(a).params,"enable-pagination":!1,max:i.max,bordered:!0},{index:r(({rowIndex:p})=>[m(V(p+1),1)]),_:1},8,["api","custom-api-params","max"])])}}});export{k as _};
