import{d as l}from"./statisitics-CehHs8Ha.js";import{u as m}from"./loading-CB2rs24d.js";import{C as u}from"./index-DVwIKmiX.js";import{d as f,a as n,h as C,E as _,b as y,o as T,c as g,e as b,w,k as L,u as k,_ as x}from"./index-C4AMdMz2.js";const E={class:"order-chart"},I=f({__name:"index",props:{dateType:{type:Object,default:()=>({recent:"LAST_SEVEN",month:""})}},setup(c){const a=c,{loading:d,setLoading:s}=m(),t=n({chartList:[],orderChart:""}),o=n({searchType:a.dateType.recent});function h(){const e=t.chartList;e.forEach(r=>{r.createTime=r.createTime.split(" ")[0],r.title="交易额"}),t.orderChart.data(e),t.orderChart.tooltip({showCrosshairs:!0,shared:!0}),t.orderChart.line().position("createTime*price").label("price").color("title").shape("smooth"),t.orderChart.point().position("createTime*price").label("price").color("title").shape("circle").style({stroke:"#fff",lineWidth:1}),t.orderChart.area().position("createTime*price").color("title").shape("smooth"),t.orderChart.render()}async function i(){s(!0);const e=await l(o);e.data.success&&(t.chartList=e.data.result,t.orderChart||(t.orderChart=new u({container:"orderChart",autoFit:!0,height:500,padding:[70,70,70,70]}))),h(),s(!1)}return C(()=>{i()}),_(()=>a.dateType,e=>{if(o.searchType=e.recent,e.month){const r=e.month.split("-")[1];o.month=r.startsWith("0")?r.substr(1):r,o.year=e.month.split("-")[0]}o.storeId=e.storeId?e.storeId:"",i()},{deep:!0,immediate:!0}),(e,r)=>{const p=y("a-spin");return T(),g("div",E,[b(p,{style:{display:"block"},loading:k(d)},{default:w(()=>r[0]||(r[0]=[L("div",{id:"orderChart"},null,-1)])),_:1},8,["loading"])])}}}),S=x(I,[["__scopeId","data-v-43975d1e"]]);export{S as o};
