import{v as k,t as M,j as _}from"./member-B0DkAxtf.js";import{u as v}from"./useCurrentInstance-BLlvmEjv.js";import{U as w,V as y}from"./dist-PezRi_EG.js";import{d as D,r as n,n as C,b as E,o as N,j as P,w as R,e as i,u as a,M as S}from"./index-C4AMdMz2.js";import V from"./index-B2X1kTmN.js";import"./index.vue_vue_type_script_setup_true_lang-DsrWKjKu.js";import"./index-CzBKN9cw.js";import"./index--a7kHzzJ.js";import"./validator-B8pIxTAL.js";import"./extra-5DUayDl9.js";import"./index-DUU-x9KJ.js";const H=D({__name:"index",setup(j){var d;const r=n(),m=C(),o=n(null),c=(d=v().globalProperties)==null?void 0:d.$modal,p=[{label:"会员ID",model:"id",disabled:!1,input:!0},{label:"会员名称",model:"username",disabled:!1,input:!0},{label:"会员昵称",model:"nickName",disabled:!1,input:!0},{label:"联系方式",model:"mobile",disabled:!1,input:!0}],b=[{title:"会员ID",dataIndex:"id"},{title:"会员名称",dataIndex:"username"},{title:"会员昵称",dataIndex:"nickName",member:!0},{title:"联系方式",dataIndex:"mobile"},{title:"注册时间",dataIndex:"createTime"}],f={title:"操作",width:300,fixed:"right",methods:[{title:"查看",callback:"orderDetail",type:"text",status:"success"},{title:"编辑",callback:"editor",type:"text",status:"warning"},{title:"启用",callback:"enabled",type:"text",status:"success"}]};function g(t){const e={userIds:[t.record.id],enable:!0};c.confirm({title:"提示",content:"启用用此会员？",alignCenter:!1,onOk:async()=>{(await M(e)).data.success&&(S.success("启用成功"),r.value.init())}})}function x(t){_(t.record.id).then(e=>{e.data.code===200&&(o.value.editMemberModal.data=e.data.result)}),o.value.descFlag=!0}function h(t){m.push({name:"member-detail",query:{id:t.record.id}})}function I(t){t===!0&&r.value.init()}const s=n({pageNumber:1,pageSize:10,order:"desc",username:"",mobile:"",enable:!1});return(t,e)=>{const u=E("a-card");return N(),P(u,{class:"general-card",title:"回收站",bordered:!1},{default:R(()=>[i(a(w),{columns:p,onReset:e[0]||(e[0]=l=>{s.value={...a(s),...l}}),onSearch:e[1]||(e[1]=l=>{s.value={...a(s),...l}})}),i(a(y),{ref_key:"tablePageRef",ref:r,columns:b,methods:f,api:a(k),bordered:!0,"api-params":a(s),onEnabled:g,onOrderDetail:h,onEditor:x},null,8,["api","api-params"]),i(V,{ref_key:"show",ref:o,onInit:I},null,512)]),_:1})}}});export{H as default};
